<?xml version="1.0" encoding="utf-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom"
    xmlns:dc="http://purl.org/dc/elements/1.1/">
    <channel>
        <title>Jason Yang: Math and Computer Science Blog</title>
        <link>https://userjy.github.io</link>
        <description><![CDATA[Programming language theory, haskell, induction, combinatorics, Energy based models, time series analysis, differential equations, stochastic calculus, trading]]></description>
        <atom:link href="https://userjy.github.io/rss.xml" rel="self"
                   type="application/rss+xml" />
        <lastBuildDate>Mon, 15 Nov 2021 00:00:00 UT</lastBuildDate>
        <item>
    <title>Understanding Google Analytics</title>
    <link>https://userjy.github.io/posts/2021-11-15-GoogleAnalytics.html</link>
    <description><![CDATA[<div class="info">
    Posted on November 15, 2021
    
</div>
<div class="info">
    
    Tags: <a title="All pages tagged &#39;prog&#39;." href="/tags/prog.html">prog</a>
    
</div>
<div id="TOC"><ul>
<li><a href="#key-terms"><span class="toc-section-number">1</span> Key terms</a></li>
</ul></div>
<section id="key-terms" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Key terms</h1>
<p>3 steps:</p>
<ul>
<li>Acquisition</li>
<li>Behavior</li>
<li>Conversion</li>
</ul>
</section>
]]></description>
    <pubDate>Mon, 15 Nov 2021 00:00:00 UT</pubDate>
    <guid>https://userjy.github.io/posts/2021-11-15-GoogleAnalytics.html</guid>
    <dc:creator>Jason Yang</dc:creator>
</item>
<item>
    <title>Visx</title>
    <link>https://userjy.github.io/posts/2021-11-11-Visx.html</link>
    <description><![CDATA[<div class="info">
    Posted on November 11, 2021
    
</div>
<div class="info">
    
    Tags: <a title="All pages tagged &#39;prog&#39;." href="/tags/prog.html">prog</a>
    
</div>
<div id="TOC"></div>
<ul>
<li>Scale = Domain range</li>
</ul>
<p>Scale is a function that converts data to pixels.</p>
<p>Domain = Data’s bounds Range = Pixel’s bounds</p>
<p>Visx components map the Data(Domain) to Pixels(Range).</p>
]]></description>
    <pubDate>Thu, 11 Nov 2021 00:00:00 UT</pubDate>
    <guid>https://userjy.github.io/posts/2021-11-11-Visx.html</guid>
    <dc:creator>Jason Yang</dc:creator>
</item>
<item>
    <title>Code-Server</title>
    <link>https://userjy.github.io/posts/2021-11-10-CodeServer.html</link>
    <description><![CDATA[<div class="info">
    Posted on November 10, 2021
    
</div>
<div class="info">
    
    Tags: <a title="All pages tagged &#39;prog&#39;." href="/tags/prog.html">prog</a>
    
</div>
<p>Config location: ~/.config/code-server/config.yaml</p>
<section id="unsecure-http-setup" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> unsecure HTTP setup</h1>
<p>Warning!! unsecure HTTP disables web view<br />
extensions that show “previews” won’t work like Lean</p>
<div class="sourceCode" id="cb1" data-filename="~/.config/code-server/config.yaml"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bind-addr</span><span class="kw">:</span><span class="at"> 0.0.0.0:443</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">auth</span><span class="kw">:</span><span class="at"> password</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">password</span><span class="kw">:</span><span class="at"> root</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cert</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
</section>
<section id="https-setup" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> HTTPS setup</h1>
<p>Self signing CA</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Allows code-server to listen on port 443.</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> setcap cap_net_bind_service=+ep /usr/lib/code-server/lib/node</span></code></pre></div>
<div class="sourceCode" id="cb3" data-filename="~/.config/code-server/config.yaml"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bind-addr</span><span class="kw">:</span><span class="at"> 0.0.0.0:443</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a><span class="fu">auth</span><span class="kw">:</span><span class="at"> password</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">password</span><span class="kw">:</span><span class="at"> root</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">cert</span><span class="kw">:</span><span class="at"> </span><span class="ch">true</span></span></code></pre></div>
</section>
<section id="extensions" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Extensions</h1>
<p>go to <a href="https://open-vsx.org/">open-vsx.org</a></p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">wget</span> https://open-vsx.org/api/something/vscode-bleh/1.2.0/file/something.vscode-bleh-1.2.0.vsix</span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="ex">code-server</span> <span class="at">--install-extension</span> something.vscode-bleh-1.2.0.vsix</span></code></pre></div>
</section>
]]></description>
    <pubDate>Wed, 10 Nov 2021 00:00:00 UT</pubDate>
    <guid>https://userjy.github.io/posts/2021-11-10-CodeServer.html</guid>
    <dc:creator>Jason Yang</dc:creator>
</item>
<item>
    <title>Authentication OAuth2 SAML</title>
    <link>https://userjy.github.io/posts/2021-11-10-Authentication.html</link>
    <description><![CDATA[<div class="info">
    Posted on November 10, 2021
    
</div>
<div class="info">
    
    Tags: <a title="All pages tagged &#39;prog&#39;." href="/tags/prog.html">prog</a>
    
</div>
<div id="TOC"><ul>
<li><a href="#oauth2"><span class="toc-section-number">1</span> Oauth2</a></li>
<li><a href="#openid-connect"><span class="toc-section-number">2</span> OpenID connect</a></li>
</ul></div>
<p>AWS Cognito uses OAuth2</p>
<p>OAuth2 is a protocol that typically uses JWT</p>
<section id="oauth2" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Oauth2</h1>
<p>4 parties: User(Resource Owner) on Browser,<br />
Leetcode(Client),<br />
github-auth(Authorization Server),<br />
github profile db(Resource Server)</p>
<ol type="1">
<li>User(Resource Owner) goes to leetcode(Client) website</li>
<li>User has an account on github-Auth(Authorization Server) and has an github profile data there(Resource Server)</li>
<li>User(Resource Owner) wants to allow leetcode(Client) to read github profile(Resource Server)</li>
<li>User(Resource Owner) clicks linkage form on leetcode(Client) then redirects User to login form on github-Auth(Authorization Server) with a packet of data containing{Client_ID, Callback_URI, Scopes/Permissions}.</li>
<li>User(Resource Owner) logins on github-Auth(Authorization Server)</li>
<li>User(Resource Owner) is presented with a list of permissions(Scopes presented in step 4) it will allow leetcode(Client) to have access to in the github profile(Resource Server)</li>
<li>github-Auth(Authorization Server) redirects the User(Resource Owner) back to leetcode webpage(Client) using the Callback_URI(presented in step 4) along with a temporary {Authorization_Code}</li>
<li>Leetcode(Client) contacts github-Auth(Authorization Server) directly w/o needing the User’s browser. Leetcode(Client) sends {Client_ID,Client_Secret, Authorization_Code} to github-Auth.</li>
<li>github-Auth(Authorization Server) verifies the data and responds to Leetcode(Client) with an {Access Token}.</li>
<li>Leetcode(Client) can now access the User(Resource Owner) specific data on their github profile(Resource Server) using the {Access Token}</li>
</ol>
</section>
<section id="openid-connect" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> OpenID connect</h1>
<p>OIDC sits ontop of OAuth2<br />
OIDC gives a more typical behavior of a login session. OIDC allows a Client(Leetcode) to establish a login session and identity for the User(Resource-Owner).<br />
When github-auth(Authorization Server) allows OIDC, it is called an <strong>identity provider</strong> since it provide identity information about the User(Resource-Owner) back to the Client(Leetcode).</p>
<p>OIDC allows one login to github-auth(Authorization Server) to be used for multiple Client/Apps.<br />
Eg. Using gmail to sign into multiple apps. This single login is called <strong>SSO</strong> Single-Sign-On</p>
<p>OIDC process is same as OAuth except at step 9, it returns {JWT ID token, Access Token}.</p>
<figure><img src='http://www.plantuml.com/plantuml/svg/~h407374617274756d6c0a736b696e706172616d20736861646f77696e672066616c73650a42726f77736572202d3e2057656273697465203a20476574206578616d706c652e636f6d0a57656273697465202d2d3e2042726f777365723a206f6b2c2068657265206973206d792053534c2063657274205c6e636f6e7461696e696e67206d79207075626c69636b65795c6e7369676e6564206279204c657473456e63727970740a6e6f7465206f7665722042726f777365720a557365207072652d696e7374616c6c6564204c657473456e63727970740a5075626c69634b657920696e2042726f7773657220746f0a766572696679207468652053534c2063657274207369676e6564207573696e670a4c657473456e6372797074277320507269766174654b65790a656e646e6f74650a42726f77736572202d3e20576562736974653a2049207472757374204c657473456e63727970745c6e5468657265666f7265204920747275737420796f757220636572742e5c6e49206d6164652061205365637265744b6579205c6e656e6372797074656420697420772f20796f7572205075626c69634b65790a6e6f7465206f76657220576562736974650a576562736974652063616e2072657665616c200a746865205365637265744b6579200a62792064656372797074696e6720746865206d657373616765200a772f2057656273697465277320507269766174654b6579200a656e646e6f74650a57656273697465203c2d3e2042726f777365723a20436f6d6d756e69636174696f6e20772f205365637265744b65790a40656e64756d6c'></figure>
</section>
]]></description>
    <pubDate>Wed, 10 Nov 2021 00:00:00 UT</pubDate>
    <guid>https://userjy.github.io/posts/2021-11-10-Authentication.html</guid>
    <dc:creator>Jason Yang</dc:creator>
</item>
<item>
    <title>Access Hakyll website on LAN and iptables</title>
    <link>https://userjy.github.io/posts/2021-11-07-HakyllAccessOnLAN.html</link>
    <description><![CDATA[<div class="info">
    Posted on November  7, 2021
    
</div>
<div class="info">
    
    Tags: <a title="All pages tagged &#39;prog&#39;." href="/tags/prog.html">prog</a>
    
</div>
<div id="TOC"><ul>
<li><a href="#scenario"><span class="toc-section-number">1</span> Scenario</a></li>
<li><a href="#solution"><span class="toc-section-number">2</span> Solution</a></li>
<li><a href="#theory"><span class="toc-section-number">3</span> Theory</a></li>
<li><a href="#iptables-netstat-diagnosis"><span class="toc-section-number">4</span> iptables netstat diagnosis</a>
<ul>
<li><a href="#netstat"><span class="toc-section-number">4.1</span> netstat</a></li>
<li><a href="#iptables"><span class="toc-section-number">4.2</span> iptables</a></li>
</ul></li>
<li><a href="#occupied-port-scenario"><span class="toc-section-number">5</span> Occupied port scenario</a></li>
</ul></div>
<p><strong>Hakyll Setup Series</strong></p>
<ol type="1">
<li><a href="2021-08-23-HakyllSetupMathjax.html">Setup Mathjax</a></li>
<li><a href="2021-08-24-HakyllPlantUML2.html">Setup PlantUML</a></li>
<li><a href="2021-06-28-HakyllGitAction.html">Setup autobuild Hakyll site Git action CI</a></li>
<li><a href="2021-08-23-PandocFiltering.html">Very Simple Hakyll Pandoc Filtering Example</a></li>
<li><a href="2021-10-01-RailroadSyntax.html">Add Railroad Syntax to Hakyll</a></li>
<li><a href="2021-10-01-TableOfContent.html">Table Of Content in Hakyll</a></li>
<li><a href="2021-11-07-HakyllAccessOnLAN.html">Hakyll Access on LAN server</a></li>
</ol>
<section id="scenario" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Scenario</h1>
<ol type="1">
<li>Hakyll server: <code class="sourceCode bash"><span class="ex">listening</span> on 127.0.0.1 port 8000...</code><br />
</li>
<li>Client in LAN: must hit 192.168.1.245 port 8000 to see the website<br />
Client goes to http://192.168.1.245:8000 but sees ERROR<br />
</li>
<li>Hakyll server: 127.0.0.1 in port 8000 cant be seen in LAN</li>
</ol>
<p><strong>GOAL</strong> Hakyll server: must open 127.0.0.1 port 8000 for LAN</p>
</section>
<section id="solution" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Solution</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> sysctl <span class="at">-w</span> net.ipv4.conf.all.route_localnet=1</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> iptables <span class="at">-t</span> nat <span class="at">-I</span> PREROUTING <span class="at">-p</span> tcp <span class="at">-d</span> 192.168.1.0/24 <span class="at">--dport</span> 8000 <span class="at">-j</span> DNAT <span class="at">--to-destination</span> 127.0.0.1:8000</span></code></pre></div>
</section>
<section id="theory" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Theory</h1>
<p><img src="https://www.karlrupp.net/en/computer/computer/graphics/nat-chains.gif" /></p>
</section>
<section id="iptables-netstat-diagnosis" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> iptables netstat diagnosis</h1>
<section id="netstat" class="level2" data-number="4.1">
<h2 data-number="4.1"><span class="header-section-number">4.1</span> netstat</h2>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> netstat <span class="at">-lnp</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">#tcp        0      0 0.0.0.0:8787            0.0.0.0:*               LISTEN      734/rserver </span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co">#tcp        0      0 127.0.0.1:8000          0.0.0.0:*               LISTEN      149480/myblog </span></span></code></pre></div>
</section>
<section id="iptables" class="level2" data-number="4.2">
<h2 data-number="4.2"><span class="header-section-number">4.2</span> iptables</h2>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> iptables <span class="at">-L</span></span></code></pre></div>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co">### list INPUT rules</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> iptables <span class="at">-L</span> INPUT <span class="at">--line-numbers</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a><span class="co">### delete rule 2</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> iptables <span class="at">-D</span> INPUT 2</span></code></pre></div>
</section>
</section>
<section id="occupied-port-scenario" class="level1" data-number="5">
<h1 data-number="5"><span class="header-section-number">5</span> Occupied port scenario</h1>
<p>Say you launch a server to listen on port 8000<br />
but ERROR: port 8000 being used</p>
<p>first check what process is running on port 8000</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> netstat <span class="at">-lnp</span></span></code></pre></div>
<p>next check what the parent process is</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ps</span> <span class="at">-aef</span> <span class="at">--forest</span> <span class="co">#outputs PID ParentPID tree</span></span></code></pre></div>
<p>terminate the process or it’s parent</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="bu">kill</span> <span class="at">-9</span> <span class="op">&lt;</span>PID<span class="op">&gt;</span></span></code></pre></div>
</section>
]]></description>
    <pubDate>Sun, 07 Nov 2021 00:00:00 UT</pubDate>
    <guid>https://userjy.github.io/posts/2021-11-07-HakyllAccessOnLAN.html</guid>
    <dc:creator>Jason Yang</dc:creator>
</item>
<item>
    <title>Market Concepts</title>
    <link>https://userjy.github.io/posts/2021-11-01-MarketConcepts.html</link>
    <description><![CDATA[<div class="info">
    Posted on November  1, 2021
    
</div>
<div class="info">
    
    Tags: <a title="All pages tagged &#39;musings&#39;." href="/tags/musings.html">musings</a>, <a title="All pages tagged &#39;misc&#39;." href="/tags/misc.html">misc</a>
    
</div>
<div id="TOC"><ul>
<li><a href="#gdp"><span class="toc-section-number">1</span> GDP</a></li>
<li><a href="#economic-indictators"><span class="toc-section-number">2</span> Economic Indictators</a>
<ul>
<li><a href="#inflation-and-bonds"><span class="toc-section-number">2.1</span> Inflation and Bonds</a></li>
<li><a href="#unemployment"><span class="toc-section-number">2.2</span> Unemployment</a></li>
<li><a href="#big-corp-confidence-pmi"><span class="toc-section-number">2.3</span> Big Corp Confidence = PMI</a></li>
<li><a href="#housing"><span class="toc-section-number">2.4</span> Housing</a></li>
</ul></li>
<li><a href="#most-important-for-investors"><span class="toc-section-number">3</span> Most important for Investors</a>
<ul>
<li><a href="#cef---closed-ended-funds"><span class="toc-section-number">3.0.1</span> CEF - Closed Ended funds</a></li>
</ul></li>
</ul></div>
<p><a href="https://fred.stlouisfed.org/series/NYGDPMKTPCDWLD">World GDP</a></p>
<ul>
<li>CPI - Consumer Price Index</li>
</ul>
<section id="gdp" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> GDP</h1>
<ul>
<li>GDP: Market-value of Final Goods Produced
<ul>
<li>GDP = PersonalConsumption + PrivateInvestment + GovtConsumption + (Exports - Imports)</li>
</ul></li>
<li>Inflation</li>
<li>Unemployment</li>
<li>Business confidence</li>
<li>Housing</li>
</ul>
<p>https://fred.stlouisfed.org/series/GDP</p>
<p>Personal Consumption Expenditures Gross private domestic investment Net Exports Government Consumption Expenditures</p>
<p>https://fred.stlouisfed.org/series/PCE https://fred.stlouisfed.org/series/GPDI https://fred.stlouisfed.org/series/FGEXPND https://fred.stlouisfed.org/series/NETEXP</p>
<p>real GDP = inflation_normalized(nominal_GDP)</p>
<p>Recession = 2 consecutive quarters of negative real GDP</p>
<ul>
<li>3.2% Q3 2017 <strong>yoy</strong> means “3.2% returns relative to Q3 2017”<br />
</li>
<li>3.2% Q3 2017 <strong>qoq</strong> means “3.2% returns relative to Q2 2017”</li>
</ul>
</section>
<section id="economic-indictators" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Economic Indictators</h1>
<section id="inflation-and-bonds" class="level2" data-number="2.1">
<h2 data-number="2.1"><span class="header-section-number">2.1</span> Inflation and Bonds</h2>
<p>Fixed-income investors aka Bond traders REALLY WATCH Inflation</p>
<p><a href="https://www.bea.gov/data/prices-inflation/gdp-price-deflator">GDP price deflator from BEA to check inflation</a></p>
<p><a href="https://www.bls.gov/cpi/home.htm">CPI</a> In the US, food only makes up 15% CPI, and Housing makes 40% CPI</p>
</section>
<section id="unemployment" class="level2" data-number="2.2">
<h2 data-number="2.2"><span class="header-section-number">2.2</span> Unemployment</h2>
<p>non-farm payrolls (this disregards seasonal farm workers) and is the most useful measure of unemployment https://fred.stlouisfed.org/series/PAYEMS It correlates with GDP (recessions)</p>
</section>
<section id="big-corp-confidence-pmi" class="level2" data-number="2.3">
<h2 data-number="2.3"><span class="header-section-number">2.3</span> Big Corp Confidence = PMI</h2>
<p><strong>PMI IS THE BEST ECONOMIC INDICATOR SINCE IT PREDICTS GDP</strong></p>
<ul>
<li>Market moves depending on Actual vs Expected</li>
</ul>
<p><a href="https://www.ismworld.org/supply-management-news-and-reports/reports/ism-report-on-business/">Institute of supply management PMI</a> <a href="https://tradingeconomics.com/united-states/business-confidence">trading economics</a></p>
<p>50 is neutral, gt 50 is optimism vis-a-vis https://www.ismworld.org/supply-management-news-and-reports/reports/ism-report-on-business/services/november/ institute of supply management</p>
<p>Typically we can find an actual and expected PMI. Like earnings if expected &gt; actual, it’s a good surprise.</p>
</section>
<section id="housing" class="level2" data-number="2.4">
<h2 data-number="2.4"><span class="header-section-number">2.4</span> Housing</h2>
<p>Remember housing makes up 40% CPI</p>
</section>
</section>
<section id="most-important-for-investors" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> Most important for Investors</h1>
<p>PMI</p>
<hr />
<section id="cef---closed-ended-funds" class="level3" data-number="3.0.1">
<h3 data-number="3.0.1"><span class="header-section-number">3.0.1</span> CEF - Closed Ended funds</h3>
<ul>
<li>NAV of CEF are sensitive to good/bad investment decisions by the owner<br />
</li>
<li>CEF have cheap interest rate on debt</li>
<li>Federal requirements mandate a limit on debt relative to NAV
<ul>
<li>Market downturn –&gt; NAV decrease –&gt; Forced sell-off to stay below debt limit</li>
</ul></li>
</ul>
<p>Terms<br />
:NAV = similar to book value [what the fund really has] :Positive Discount = Premium to NAV [fund is doing well] :Negative DIscount = Discount to NAV [fund is doing badly] :Distribution rate = Dividend yield [calculated annually ]</p>
</section>
</section>
]]></description>
    <pubDate>Mon, 01 Nov 2021 00:00:00 UT</pubDate>
    <guid>https://userjy.github.io/posts/2021-11-01-MarketConcepts.html</guid>
    <dc:creator>Jason Yang</dc:creator>
</item>
<item>
    <title>Import, load, FRED, TDtrade in python, R</title>
    <link>https://userjy.github.io/posts/2021-10-10-LoadStockFRED.html</link>
    <description><![CDATA[<div class="info">
    Posted on October 10, 2021
    
</div>
<div class="info">
    
    Tags: <a title="All pages tagged &#39;python&#39;." href="/tags/python.html">python</a>, <a title="All pages tagged &#39;R&#39;." href="/tags/R.html">R</a>, <a title="All pages tagged &#39;stats&#39;." href="/tags/stats.html">stats</a>, <a title="All pages tagged &#39;AI&#39;." href="/tags/AI.html">AI</a>, <a title="All pages tagged &#39;prog&#39;." href="/tags/prog.html">prog</a>
    
</div>
<section id="import-csv-data" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> import CSV data</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> pathlib <span class="im">import</span> Path</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>mycsv <span class="op">=</span> Path(<span class="st">&quot;/home/kali/pytorch-Deep-Learning/ISLR/dataset/Advertising.csv&quot;</span>)</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>outDF<span class="op">=</span>pd.read_csv(mycsv)</span></code></pre></div>
</section>
<section id="import-tdtrade" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> import tdtrade</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>apikey <span class="op">=</span> <span class="st">&quot;XXXXXXXXXXX&quot;</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>ticker <span class="op">=</span> <span class="st">&quot;AAPL&quot;</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>period <span class="op">=</span> <span class="st">&quot;day&quot;</span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>myurl <span class="op">=</span> <span class="ss">f&quot;https://api.tdameritrade.com/v1/marketdata/</span><span class="sc">{</span>ticker<span class="sc">}</span><span class="ss">/pricehistory?apikey=</span><span class="sc">{</span>apikey<span class="sc">}</span><span class="ss">&amp;periodType=</span><span class="sc">{</span>period<span class="sc">}</span><span class="ss">&quot;</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>stkdata <span class="op">=</span> pd.read_json(myurl)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co">#Series of json eg. [{open: ,close: ...}, {open: , close: ..}</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>stocks <span class="op">=</span> stkdata[<span class="st">&quot;candles&quot;</span>].<span class="bu">apply</span>(pd.Series)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a><span class="co">#Convert Series of json to Dataframe</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>stocks[<span class="st">&quot;datetime&quot;</span>] <span class="op">=</span>  pd.to_datetime(stocks[<span class="st">&quot;datetime&quot;</span>],origin<span class="op">=</span><span class="st">&quot;unix&quot;</span>, unit<span class="op">=</span><span class="st">&quot;ms&quot;</span>)</span></code></pre></div>
</section>
]]></description>
    <pubDate>Sun, 10 Oct 2021 00:00:00 UT</pubDate>
    <guid>https://userjy.github.io/posts/2021-10-10-LoadStockFRED.html</guid>
    <dc:creator>Jason Yang</dc:creator>
</item>
<item>
    <title>Table Of Content in Hakyll</title>
    <link>https://userjy.github.io/posts/2021-10-01-TableOfContent.html</link>
    <description><![CDATA[<div class="info">
    Posted on October  1, 2021
    
</div>
<div class="info">
    
    Tags: <a title="All pages tagged &#39;tech&#39;." href="/tags/tech.html">tech</a>, <a title="All pages tagged &#39;prog&#39;." href="/tags/prog.html">prog</a>, <a title="All pages tagged &#39;HakyllSetupSeries&#39;." href="/tags/HakyllSetupSeries.html">HakyllSetupSeries</a>
    
</div>
<div id="TOC"><ul>
<li><a href="#showcase"><span class="toc-section-number">1</span> Showcase</a></li>
<li><a href="#setup"><span class="toc-section-number">2</span> Setup</a></li>
</ul></div>
<p><strong>Hakyll Setup Series</strong></p>
<ol type="1">
<li><a href="2021-08-23-HakyllSetupMathjax.html">Setup Mathjax</a></li>
<li><a href="2021-08-24-HakyllPlantUML2.html">Setup PlantUML</a></li>
<li><a href="2021-06-28-HakyllGitAction.html">Setup autobuild Hakyll site Git action CI</a></li>
<li><a href="2021-08-23-PandocFiltering.html">Very Simple Hakyll Pandoc Filtering Example</a></li>
<li><a href="2021-10-01-RailroadSyntax.html">Add Railroad Syntax to Hakyll</a></li>
<li><a href="2021-10-01-TableOfContent.html">Table Of Content in Hakyll</a></li>
<li><a href="2021-11-07-HakyllAccessOnLAN.html">Hakyll Access on LAN server</a></li>
</ol>
<section id="showcase" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Showcase</h1>
<div class="sourceCode" id="cb1"><pre class="sourceCode md"><code class="sourceCode markdown"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="an">title:</span><span class="co"> TableOfContent</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="an">tags:</span><span class="co"> tech, prog, HakyllSetupSeries</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="an">toc:</span><span class="co"> y</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="co">---</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>...content body...</span></code></pre></div>
<p>Any value (in our case <code class="sourceCode markdown">y</code>) given to <code class="sourceCode markdown">toc</code> metafield activates the table of content.</p>
</section>
<section id="setup" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> Setup</h1>
<div class="sourceCode" id="cb2" data-filename="site.hs"><pre class="sourceCode hs"><code class="sourceCode haskell"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co">--Step 3: Setup WriterOptions</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="ot">writeMathjaxOptions ::</span> <span class="dt">WriterOptions</span></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co">--writeMathjaxOptions = defaultHakyllWriterOptions</span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>writeMathjaxOptions <span class="ot">=</span> defaultHakyllWriterOptions </span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>                {          </span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>                    writerSectionDivs <span class="ot">=</span> <span class="dt">True</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>                    ,writerNumberSections  <span class="ot">=</span> <span class="dt">True</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>                    ,writerColumns <span class="ot">=</span> <span class="dv">130</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>                    , writerTableOfContents <span class="ot">=</span> <span class="dt">True</span></span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>                   , writerTOCDepth        <span class="ot">=</span> <span class="dv">3</span></span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>                   , writerHTMLMathMethod <span class="ot">=</span> <span class="dt">MathJax</span> <span class="st">&quot;&quot;</span></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>                }</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a><span class="co">---------------------------------------------------TOC</span></span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a><span class="ot">tocTemplate ::</span> <span class="dt">Text.Pandoc.Template</span> <span class="dt">Data.Text.Text</span></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a>tocTemplate <span class="ot">=</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a>    <span class="fu">either</span> <span class="fu">error</span> <span class="fu">id</span> <span class="op">$</span> <span class="fu">either</span> (<span class="fu">error</span> <span class="op">.</span> <span class="fu">show</span>) <span class="fu">id</span> <span class="op">$</span></span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    runPure <span class="op">$</span> runWithDefaultPartials <span class="op">$</span></span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    compileTemplate <span class="st">&quot;&quot;</span> <span class="st">&quot;&lt;div id=\&quot;TOC\&quot;&gt;$toc$&lt;/div&gt;\n$body$&quot;</span></span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-21"><a href="#cb2-21" aria-hidden="true" tabindex="-1"></a><span class="ot">writeTOCMathjaxOptions ::</span> <span class="dt">WriterOptions</span></span>
<span id="cb2-22"><a href="#cb2-22" aria-hidden="true" tabindex="-1"></a>writeTOCMathjaxOptions <span class="ot">=</span> writeMathjaxOptions{</span>
<span id="cb2-23"><a href="#cb2-23" aria-hidden="true" tabindex="-1"></a>                   </span>
<span id="cb2-24"><a href="#cb2-24" aria-hidden="true" tabindex="-1"></a>                    writerTemplate        <span class="ot">=</span> <span class="dt">Just</span> tocTemplate</span>
<span id="cb2-25"><a href="#cb2-25" aria-hidden="true" tabindex="-1"></a>                </span>
<span id="cb2-26"><a href="#cb2-26" aria-hidden="true" tabindex="-1"></a>}</span>
<span id="cb2-27"><a href="#cb2-27" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-28"><a href="#cb2-28" aria-hidden="true" tabindex="-1"></a><span class="co">---------------------------------------------------</span><span class="re">END</span><span class="co"> TOC</span></span>
<span id="cb2-29"><a href="#cb2-29" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-30"><a href="#cb2-30" aria-hidden="true" tabindex="-1"></a><span class="co">--Step 4: Build the compiler using the ReaderOption and Writer Option from Step 2, 3.</span></span>
<span id="cb2-31"><a href="#cb2-31" aria-hidden="true" tabindex="-1"></a><span class="ot">mathJaxAddedCompiler ::</span> <span class="dt">Compiler</span> (<span class="dt">Item</span> <span class="dt">String</span>)</span>
<span id="cb2-32"><a href="#cb2-32" aria-hidden="true" tabindex="-1"></a>mathJaxAddedCompiler <span class="ot">=</span> pandocCompilerWithTransform readMathjaxOptions writeTOCMathjaxOptions addToCodeBlock</span>
<span id="cb2-33"><a href="#cb2-33" aria-hidden="true" tabindex="-1"></a><span class="co">--Step 5: Replace the line &quot;compile $ pandocCompiler&quot; under &quot;match &quot;posts/*&quot; $ do&quot; with </span></span>
<span id="cb2-34"><a href="#cb2-34" aria-hidden="true" tabindex="-1"></a><span class="co">--&quot;compiler $ mathJaxAddedCompiler&quot;</span></span>
<span id="cb2-35"><a href="#cb2-35" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-36"><a href="#cb2-36" aria-hidden="true" tabindex="-1"></a><span class="co">--exclude Table of Content</span></span>
<span id="cb2-37"><a href="#cb2-37" aria-hidden="true" tabindex="-1"></a><span class="ot">mathJaxAddedCompilerExTOC ::</span> <span class="dt">Compiler</span> (<span class="dt">Item</span> <span class="dt">String</span>)</span>
<span id="cb2-38"><a href="#cb2-38" aria-hidden="true" tabindex="-1"></a>mathJaxAddedCompilerExTOC <span class="ot">=</span> pandocCompilerWithTransform readMathjaxOptions writeMathjaxOptions addToCodeBlock</span></code></pre></div>
<div class="sourceCode" id="cb3" data-filename="site.hs"><pre class="sourceCode hs"><code class="sourceCode haskell"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>    match <span class="st">&quot;posts/*&quot;</span> <span class="op">$</span> <span class="kw">do</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>        route <span class="op">$</span> setExtension <span class="st">&quot;html&quot;</span></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a>        compile <span class="op">$</span> <span class="kw">do</span></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>            <span class="co">--Check TOC metadata field filled START</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>            ident <span class="ot">&lt;-</span> getUnderlying                                 </span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>            toc   <span class="ot">&lt;-</span> getMetadataField ident <span class="st">&quot;toc&quot;</span>             </span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>            <span class="kw">let</span> chosenCompiler <span class="ot">=</span> <span class="kw">case</span> toc <span class="kw">of</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">Nothing</span> <span class="ot">-&gt;</span> mathJaxAddedCompilerExTOC</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>                    <span class="dt">Just</span> _ <span class="ot">-&gt;</span> mathJaxAddedCompiler                        </span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a>            <span class="co">--Check TOC metadata field filled </span><span class="re">END</span><span class="co"> </span></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>            chosenCompiler</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>                <span class="op">&gt;&gt;=</span> loadAndApplyTemplate <span class="st">&quot;templates/post.html&quot;</span>    (postCtxWithTags tags)</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>                <span class="op">&gt;&gt;=</span> saveSnapshot <span class="st">&quot;content&quot;</span></span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>                <span class="op">&gt;&gt;=</span> loadAndApplyTemplate <span class="st">&quot;templates/default.html&quot;</span> (postCtxWithTags tags)</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>                <span class="op">&gt;&gt;=</span> relativizeUrls</span></code></pre></div>
</section>
]]></description>
    <pubDate>Fri, 01 Oct 2021 00:00:00 UT</pubDate>
    <guid>https://userjy.github.io/posts/2021-10-01-TableOfContent.html</guid>
    <dc:creator>Jason Yang</dc:creator>
</item>
<item>
    <title>Add Railroad Syntax to Hakyll</title>
    <link>https://userjy.github.io/posts/2021-10-01-RailroadSyntax.html</link>
    <description><![CDATA[<div class="info">
    Posted on October  1, 2021
    
</div>
<div class="info">
    
    Tags: <a title="All pages tagged &#39;tech&#39;." href="/tags/tech.html">tech</a>, <a title="All pages tagged &#39;prog&#39;." href="/tags/prog.html">prog</a>, <a title="All pages tagged &#39;HakyllSetupSeries&#39;." href="/tags/HakyllSetupSeries.html">HakyllSetupSeries</a>
    
</div>
<p><strong>Hakyll Setup Series</strong></p>
<ol type="1">
<li><a href="2021-08-23-HakyllSetupMathjax.html">Setup Mathjax</a></li>
<li><a href="2021-08-24-HakyllPlantUML2.html">Setup PlantUML</a></li>
<li><a href="2021-06-28-HakyllGitAction.html">Setup autobuild Hakyll site Git action CI</a></li>
<li><a href="2021-08-23-PandocFiltering.html">Very Simple Hakyll Pandoc Filtering Example</a></li>
<li><a href="2021-10-01-RailroadSyntax.html">Add Railroad Syntax to Hakyll</a></li>
<li><a href="2021-10-01-TableOfContent.html">Table Of Content in Hakyll</a></li>
<li><a href="2021-11-07-HakyllAccessOnLAN.html">Hakyll Access on LAN server</a></li>
</ol>
<section id="setup" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Setup</h1>
<p>add the script to your templates/default.html</p>
<div class="sourceCode" id="cb1" data-filename="templates\default.html"><pre class="sourceCode html"><code class="sourceCode html"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a> <span class="co">&lt;!-- RAILROAD START </span><span class="er">--------------------------------------</span><span class="co"> --&gt;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;script</span><span class="ot"> type=</span><span class="st">&quot;module&quot;</span><span class="kw">&gt;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>            <span class="im">import</span> rr<span class="op">,*</span> <span class="im">as</span> rrClass <span class="im">from</span> <span class="st">&quot;/lib/railroad/railroad.js&quot;</span><span class="op">;</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>            <span class="bu">Object</span><span class="op">.</span><span class="fu">assign</span>(<span class="bu">window</span><span class="op">,</span>rr)</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>            <span class="bu">window</span><span class="op">.</span><span class="at">rrOptions</span> <span class="op">=</span> rrClass<span class="op">.</span><span class="at">Options</span><span class="op">;</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>            <span class="bu">document</span><span class="op">.</span><span class="fu">addEventListener</span>(<span class="st">&#39;DOMContentLoaded&#39;</span><span class="op">,</span>()<span class="kw">=&gt;</span>{<span class="fu">ReplaceDivWithSvg</span>()}<span class="op">,</span><span class="kw">false</span>)</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a>            <span class="kw">const</span> ReplaceDivWithSvg <span class="op">=</span> () <span class="kw">=&gt;</span>  {</span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>                <span class="cf">for</span> (<span class="kw">const</span> railroadelem <span class="kw">of</span> <span class="bu">document</span><span class="op">.</span><span class="fu">getElementsByClassName</span>(<span class="st">&quot;rroad&quot;</span>) ){</span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a>                railroadelem<span class="op">.</span><span class="at">innerHTML</span> <span class="op">=</span> <span class="pp">eval</span>(railroadelem<span class="op">.</span><span class="at">innerText</span><span class="op">.</span><span class="fu">trim</span>()<span class="op">+</span><span class="st">&quot;.toString()&quot;</span>)</span>
<span id="cb1-10"><a href="#cb1-10" aria-hidden="true" tabindex="-1"></a>                }</span>
<span id="cb1-11"><a href="#cb1-11" aria-hidden="true" tabindex="-1"></a>            }</span>
<span id="cb1-12"><a href="#cb1-12" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;/script&gt;</span></span>
<span id="cb1-13"><a href="#cb1-13" aria-hidden="true" tabindex="-1"></a>        </span>
<span id="cb1-14"><a href="#cb1-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-15"><a href="#cb1-15" aria-hidden="true" tabindex="-1"></a>        <span class="kw">&lt;link</span> <span class="er">rel</span><span class="ot">=</span><span class="st">&quot;stylesheet&quot;</span> <span class="er">href</span><span class="ot">=</span><span class="st">&quot;/lib/railroad/railroad-diagrams.css&quot;</span><span class="kw">&gt;</span></span>
<span id="cb1-16"><a href="#cb1-16" aria-hidden="true" tabindex="-1"></a><span class="co">&lt;!-- RAILROAD </span><span class="re">END</span><span class="co"> </span><span class="er">-----------------------------------------</span><span class="co"> --&gt;</span></span></code></pre></div>
<div class="sourceCode" id="cb2" data-filename="site.hs"><pre class="sourceCode numberSource hs numberLines"><code class="sourceCode haskell"><span id="cb2-1"><a href="#cb2-1"></a><span class="ot">main ::</span> <span class="dt">IO</span> ()</span>
<span id="cb2-2"><a href="#cb2-2"></a>main <span class="ot">=</span> <span class="kw">do</span></span>
<span id="cb2-3"><a href="#cb2-3"></a>    hakyllWith config <span class="op">$</span> <span class="kw">do</span></span>
<span id="cb2-4"><a href="#cb2-4"></a>        <span class="op">...</span></span>
<span id="cb2-5"><a href="#cb2-5"></a></span>
<span id="cb2-6"><a href="#cb2-6"></a>        match <span class="st">&quot;lib/**&quot;</span> <span class="op">$</span> <span class="kw">do</span></span>
<span id="cb2-7"><a href="#cb2-7"></a>            route   idRoute</span>
<span id="cb2-8"><a href="#cb2-8"></a>            compile copyFileCompiler</span></code></pre></div>
<p>Create a lib directory and create a railroad directory within the newly created lib directory.</p>
<p>Create a file “railroad.js” inside you /lib/railroad directory and copy the contents from <a href="https://raw.githubusercontent.com/tabatkins/railroad-diagrams/gh-pages/railroad.js">this link</a></p>
<p>Create a file “railroad-diagrams.css” /lib/railroad directory and copy the contents from <a href="https://raw.githubusercontent.com/tabatkins/railroad-diagrams/gh-pages/railroad-diagrams.css">this link</a></p>
<p><strong>If you followed my <a href="2021-08-24-HakyllPlantUML2.html">Setup PlantUML(Updated)</a></strong></p>
<p>Line <strong>3, 4, 20</strong> is what we added to our previous plantuml-hakyll integration code.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode numberSource hs numberLines"><code class="sourceCode haskell"><span id="cb3-1"><a href="#cb3-1"></a><span class="co">------------------------------------------------RAILROAD START</span></span>
<span id="cb3-2"><a href="#cb3-2"></a></span>
<span id="cb3-3"><a href="#cb3-3"></a><span class="ot">railroad ::</span> <span class="dt">Data.Text.Text</span> <span class="ot">-&gt;</span> <span class="dt">Data.Text.Text</span></span>
<span id="cb3-4"><a href="#cb3-4"></a>railroad y <span class="ot">=</span> Data.Text.pack(<span class="st">&quot;&lt;div class=&#39;rroad&#39;&gt;&quot;</span><span class="op">&lt;&gt;</span> Data.Text.unpack y <span class="op">&lt;&gt;</span> <span class="st">&quot;&lt;/div&gt;&quot;</span>)</span>
<span id="cb3-5"><a href="#cb3-5"></a></span>
<span id="cb3-6"><a href="#cb3-6"></a><span class="co">------------------------------------------------RAILROAD </span><span class="re">END</span></span>
<span id="cb3-7"><a href="#cb3-7"></a></span>
<span id="cb3-8"><a href="#cb3-8"></a><span class="ot">mhexCode ::</span> <span class="dt">Data.Text.Text</span> <span class="ot">-&gt;</span> <span class="dt">String</span></span>
<span id="cb3-9"><a href="#cb3-9"></a>mhexCode y <span class="ot">=</span> <span class="fu">tail</span> <span class="op">$</span> <span class="fu">init</span> ( <span class="fu">show</span> ( Data.ByteString.Base16.encode <span class="op">$</span> Data.ByteString.Char8.pack <span class="op">$</span> Data.Text.unpack y ))</span>
<span id="cb3-10"><a href="#cb3-10"></a></span>
<span id="cb3-11"><a href="#cb3-11"></a><span class="ot">planthtml ::</span> <span class="dt">Data.Text.Text</span> <span class="ot">-&gt;</span> <span class="dt">Data.Text.Text</span> </span>
<span id="cb3-12"><a href="#cb3-12"></a><span class="co">--planthtml y = T.pack (&quot;&lt;figure&gt;&lt;img src=&#39;http://www.plantuml.com/plantuml/svg/~h&quot; &lt;&gt; (T.unpack $ hexCode y) &lt;&gt;&quot;&#39;&gt;&lt;/figure&gt;&quot;) </span></span>
<span id="cb3-13"><a href="#cb3-13"></a>planthtml y <span class="ot">=</span> Data.Text.pack (<span class="st">&quot;&lt;figure&gt;&lt;img src=&#39;http://www.plantuml.com/plantuml/svg/~h&quot;</span> <span class="op">&lt;&gt;</span> (mhexCode <span class="op">$</span> y) <span class="op">&lt;&gt;</span><span class="st">&quot;&#39;&gt;&lt;/figure&gt;&quot;</span>) </span>
<span id="cb3-14"><a href="#cb3-14"></a></span>
<span id="cb3-15"><a href="#cb3-15"></a><span class="co">--Pandoc filtering, </span></span>
<span id="cb3-16"><a href="#cb3-16"></a><span class="ot">addToCodeBlock ::</span> <span class="dt">Pandoc</span> <span class="ot">-&gt;</span> <span class="dt">Pandoc</span> </span>
<span id="cb3-17"><a href="#cb3-17"></a>addToCodeBlock  <span class="ot">=</span> walk ftranslate </span>
<span id="cb3-18"><a href="#cb3-18"></a>  <span class="kw">where</span><span class="ot"> ftranslate ::</span> <span class="dt">Block</span> <span class="ot">-&gt;</span> <span class="dt">Block</span></span>
<span id="cb3-19"><a href="#cb3-19"></a>        ftranslate (<span class="dt">CodeBlock</span> (<span class="st">&quot;&quot;</span>,[<span class="st">&quot;plantuml&quot;</span>],[]) txt ) <span class="ot">=</span> <span class="dt">RawBlock</span> (<span class="dt">Format</span> <span class="st">&quot;html&quot;</span>) (planthtml txt)</span>
<span id="cb3-20"><a href="#cb3-20"></a>        ftranslate (<span class="dt">CodeBlock</span> (<span class="st">&quot;&quot;</span>,[<span class="st">&quot;railroad&quot;</span>],[]) txt ) <span class="ot">=</span> <span class="dt">RawBlock</span> (<span class="dt">Format</span> <span class="st">&quot;html&quot;</span>) (railroad txt)</span>
<span id="cb3-21"><a href="#cb3-21"></a>        ftranslate x <span class="ot">=</span> x </span></code></pre></div>
<p>Now it should work when you input codeblocks your pandoc markdown with “rroad” tag as shown below (use backticks instead of single quotes in your pandoc markdown).</p>
<pre><code>&#39;&#39;&#39;rroad
Diagram(&quot;foo&quot;)
&#39;&#39;&#39;</code></pre>
<pre class="rroad"><code>Diagram(&quot;foo&quot;)</code></pre>
<hr />
<p><strong>If you did NOT follow my <a href="2021-08-24-HakyllPlantUML2.html">Setup PlantUML(Updated)</a></strong></p>
<p>Add the codeblock below to your site.hs</p>
<div class="sourceCode" id="cb6" data-filename="site.hs"><pre class="sourceCode hs"><code class="sourceCode haskell"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co">------------------------------------------------RAILROAD START</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a><span class="ot">railroad ::</span> <span class="dt">Data.Text.Text</span> <span class="ot">-&gt;</span> <span class="dt">Data.Text.Text</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>railroad y <span class="ot">=</span> Data.Text.pack(<span class="st">&quot;&lt;div class=&#39;rroad&#39;&gt;&quot;</span><span class="op">&lt;&gt;</span> Data.Text.unpack y <span class="op">&lt;&gt;</span> <span class="st">&quot;&lt;/div&gt;&quot;</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a><span class="co">------------------------------------------------RAILROAD </span><span class="re">END</span></span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a><span class="co">--Pandoc filtering, </span></span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a><span class="ot">addToCodeBlock ::</span> <span class="dt">Pandoc</span> <span class="ot">-&gt;</span> <span class="dt">Pandoc</span> </span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a>addToCodeBlock  <span class="ot">=</span> walk ftranslate </span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a>        ftranslate (<span class="dt">CodeBlock</span> (<span class="st">&quot;&quot;</span>,[<span class="st">&quot;railroad&quot;</span>],[]) txt ) <span class="ot">=</span> <span class="dt">RawBlock</span> (<span class="dt">Format</span> <span class="st">&quot;html&quot;</span>) (railroad txt)</span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>        ftranslate x <span class="ot">=</span> x </span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a><span class="co">--New document compiler</span></span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a><span class="ot">modAddedCompiler ::</span> <span class="dt">Compiler</span> (<span class="dt">Item</span> <span class="dt">String</span>)</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>modAddedCompiler <span class="ot">=</span> pandocCompilerWithTransform defaultHakyllReaderOptions defaultHakyllWriterOptions addToCodeBlock</span></code></pre></div>
<p>In your site.hs find the <code class="sourceCode haskell">match <span class="st">&quot;posts/*&quot;</span> <span class="op">$</span> <span class="kw">do</span></code> and ONLY change the compiler in line 7 to <code class="sourceCode haskell">modAddedCompiler</code></p>
<div class="sourceCode" id="cb7" data-filename="site.hs"><pre class="sourceCode numberSource hs numberLines"><code class="sourceCode haskell"><span id="cb7-1"><a href="#cb7-1"></a><span class="ot">main ::</span> <span class="dt">IO</span> ()</span>
<span id="cb7-2"><a href="#cb7-2"></a>main <span class="ot">=</span> <span class="kw">do</span></span>
<span id="cb7-3"><a href="#cb7-3"></a>    hakyllWith config <span class="op">$</span> <span class="kw">do</span></span>
<span id="cb7-4"><a href="#cb7-4"></a>    <span class="op">...</span></span>
<span id="cb7-5"><a href="#cb7-5"></a>      match <span class="st">&quot;posts/*&quot;</span> <span class="op">$</span> <span class="kw">do</span></span>
<span id="cb7-6"><a href="#cb7-6"></a>                route <span class="op">$</span> setExtension <span class="st">&quot;html&quot;</span></span>
<span id="cb7-7"><a href="#cb7-7"></a>                compile <span class="op">$</span> modAddedCompiler <span class="co">--ONLY THIS</span></span>
<span id="cb7-8"><a href="#cb7-8"></a>                    <span class="op">&gt;&gt;=</span> loadAndApplyTemplate <span class="st">&quot;templates/post.html&quot;</span>    (postCtxWithTags tags)</span>
<span id="cb7-9"><a href="#cb7-9"></a>                    <span class="op">...</span></span></code></pre></div>
<p>Now it should work when you input codeblocks your pandoc markdown with “rroad” tag as shown below (use backticks instead of single quotes in your pandoc markdown).</p>
<pre><code>&#39;&#39;&#39;rroad
Diagram(&quot;foo&quot;)
&#39;&#39;&#39;</code></pre>
<pre class="rroad"><code>Diagram(&quot;foo&quot;)</code></pre>
</section>
]]></description>
    <pubDate>Fri, 01 Oct 2021 00:00:00 UT</pubDate>
    <guid>https://userjy.github.io/posts/2021-10-01-RailroadSyntax.html</guid>
    <dc:creator>Jason Yang</dc:creator>
</item>
<item>
    <title>dotfile</title>
    <link>https://userjy.github.io/posts/2021-09-21-dotfile.html</link>
    <description><![CDATA[<div class="info">
    Posted on September 21, 2021
    
</div>
<div class="info">
    
    Tags: <a title="All pages tagged &#39;mathcs&#39;." href="/tags/mathcs.html">mathcs</a>, <a title="All pages tagged &#39;puremath&#39;." href="/tags/puremath.html">puremath</a>, <a title="All pages tagged &#39;recursion&#39;." href="/tags/recursion.html">recursion</a>
    
</div>
<section id="profile-on-login" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> .profile : on login</h1>
<p><code>~/.profile</code>{bash} is used as a fallback<br />
zsh uses <code>~/.zprofile</code>{bash}</p>
<p>bash uses ~/.bash_profile or ~/.bash_login instead of ~/.profile</p>
</section>
<section id="zsh-on-new-shell" class="level1" data-number="2">
<h1 data-number="2"><span class="header-section-number">2</span> .zsh : on new shell</h1>
<p>more universal than .zprofile because it runs everytime you open a new terminal.<br />
The bash version is .bashrc</p>
</section>
<section id="path" class="level1" data-number="3">
<h1 data-number="3"><span class="header-section-number">3</span> PATH</h1>
<p><code class="sourceCode bash"><span class="va">$HOME</span></code> is same as <code class="sourceCode bash"><span class="ex">~</span></code></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="bu">export</span> <span class="va">PATH</span> <span class="op">=</span> <span class="st">&quot;</span><span class="va">$PATH</span><span class="st">:</span><span class="va">$HOME</span><span class="st">/.local/bin&quot;</span></span></code></pre></div>
</section>
<section id="alias" class="level1" data-number="4">
<h1 data-number="4"><span class="header-section-number">4</span> alias</h1>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ps</span> <span class="at">-aef</span> <span class="at">--forest</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a><span class="co"># user     PID     Parent </span></span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a><span class="co"># </span></span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a><span class="co"># root     114032   1170  0 Apr05 ?        00:00:00  \_ sshd: root@pts/4</span></span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># root     114039 114032  0 Apr05 pts/4    00:00:00  |   \_ -bash</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a><span class="co"># root      56225 114039  0 13:47 pts/4    00:00:16  |       \_ top</span></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="co"># root     114034   1170  0 Apr05 ?        00:00:00  \_ sshd: root@notty</span></span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a><span class="co"># root     114036 114034  0 Apr05 ?        00:00:00  |   \_ /usr/libexec/openssh/sftp-server</span></span></code></pre></div>
</section>
]]></description>
    <pubDate>Tue, 21 Sep 2021 00:00:00 UT</pubDate>
    <guid>https://userjy.github.io/posts/2021-09-21-dotfile.html</guid>
    <dc:creator>Jason Yang</dc:creator>
</item>

    </channel>
</rss>
