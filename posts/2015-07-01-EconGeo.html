<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="Content-Type" content="text/html" />
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <!-- <meta
            http-equiv="Content-Security-Policy"
            content="default-src *" /> -->

        <!-- Icon start -->
        <link rel="icon" href="../images/icons/IconSheet.svg#browserlogo">
        <link rel="apple-touch-icon" href="../images/icons/IconSheet.svg#browserlogo">
        <link rel="shortcut icon" href="../images/icons/IconSheet.svg#browserlogo" />
        <link rel="mask-icon" href="../images/icons/IconSheet.svg#browserlogo" />
        <!-- Icon end -->

        <!-- Global site tag (gtag.js) - Google Analytics START ------------------->

        <script defer src="https://www.googletagmanager.com/gtag/js?id=G-2W1VXE5GSE"></script>
        <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'G-2W1VXE5GSE');
        </script>
        
        <!-- Global site tag (gtag.js) - Google Analytics END ---------------------->

        <!-- NO JS Behavior START -->
        <noscript>
            <style>
                nav.sidenav {display:none;}
                li.nav-item{display:none;}
            </style>
        </noscript>
         <!-- NO JS Behavior END -->

        <title>Jason Yang - Geometric Series Banking</title>
        <link rel="stylesheet" type="text/css" href="../css/default.css" />
    </head>

    <body>
        <!-- Side navigation start -->
        <nav class="sidenav">
            <li class="logo">
                <a href="#" class="nav-link">
                    <span class="link-text logo-text">Jason</span>
                    <svg><use href="../images/icons/IconSheet.svg#sidebardod"></use></svg>
                </a>
            </li>
        
            
            <li class="nav-item">
                <a href="../tags/mathcs.html" class="nav-link">
                    <svg><use href="../images/icons/IconSheet.svg#lambda"></use></svg>
                    <span class="link-text">Math/CS</span>
                </a>
            </li>
                
            <li class="nav-item">
                <a href="../tags/prog.html" class="nav-link">
                    <svg><use href="../images/icons/IconSheet.svg#progcode"></use></svg>
                    <span class="link-text">Prog</span>
                </a>
            </li>


            <li class="nav-item">
                <a href="../tags/AI.html" class="nav-link">
                    <svg><use href="../images/icons/IconSheet.svg#AIbrain"></use></svg>
                    <span class="link-text">ML/AI</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="../tags/tech.html" class="nav-link">
                    <svg><use href="../images/icons/IconSheet.svg#hardware"></use></svg>
                    <span class="link-text">Tech</span>
                </a>
            </li>

            <li class="nav-item">
                <a href="../tags/musings.html" class="nav-link">
                    <svg><use href="../images/icons/IconSheet.svg#thinker"></use></svg>
                    <span class="link-text">Musings</span>
                </a>
            </li>


            <li class="nav-item">
                <a href="https://github.com/lambdaJasonYang" class="nav-link">
                    <svg><use href="../images/icons/IconSheet.svg#github"></use></svg>
                    <span class="link-text">Github</span>
                </a>
            </li>
        </nav>
        <!-- Side navigation end -->
        <div id="header">
            <div id="logo">
                <a href="../">Jason Yang</a>
            </div>
            <div id="navigation">
                <a href="../">Home</a>
                <a href="../about.html">About</a>
                <a href="../contact.html">Contact</a>
                <a href="../archive.html">Archive</a>
            </div>
        </div>

        <div id="content">
            <h1>Geometric Series Banking</h1>
            

            <div class="info">
    Posted on July  1, 2015
    
</div>
<div class="info">
    
    Tags: <a title="All pages tagged 'musings'." href="../tags/musings.html">musings</a>, <a title="All pages tagged 'misc'." href="../tags/misc.html">misc</a>
    
</div>
<section id="geometric-series-for-elementary-economics" class="level1" data-number="1">
<h1 data-number="1"><span class="header-section-number">1</span> Geometric Series for Elementary Economics</h1>
<section id="contents" class="level2" data-number="1.1">
<h2 data-number="1.1"><span class="header-section-number">1.1</span> Contents</h2>
<ul>
<li><a href="#Geometric-Series-for-Elementary-Economics">Geometric Series for Elementary Economics</a>
<ul>
<li><a href="#Overview">Overview</a><br />
</li>
<li><a href="#Key-Formulas">Key Formulas</a><br />
</li>
<li><a href="#Example:-The-Money-Multiplier-in-Fractional-Reserve-Banking">Example: The Money Multiplier in Fractional Reserve Banking</a><br />
</li>
<li><a href="#Example:-The-Keynesian-Multiplier">Example: The Keynesian Multiplier</a><br />
</li>
<li><a href="#Example:-Interest-Rates-and-Present-Values">Example: Interest Rates and Present Values</a><br />
</li>
<li><a href="#Back-to-the-Keynesian-Multiplier">Back to the Keynesian Multiplier</a></li>
</ul></li>
</ul>
</section>
<section id="overview" class="level2" data-number="1.2">
<h2 data-number="1.2"><span class="header-section-number">1.2</span> Overview</h2>
<p>The lecture describes important ideas in economics that use the mathematics of geometric series.</p>
<p>Among these are</p>
<ul>
<li>the Keynesian <strong>multiplier</strong><br />
</li>
<li>the money <strong>multiplier</strong> that prevails in fractional reserve banking
systems<br />
</li>
<li>interest rates and present values of streams of payouts from assets</li>
</ul>
<p>(As we shall see below, the term <strong>multiplier</strong> comes down to meaning <strong>sum of a convergent geometric series</strong>)</p>
<p>These and other applications prove the truth of the wise crack that</p>
<blockquote>
<p>“in economics, a little knowledge of geometric series goes a long way “</p>
</blockquote>
<p>Below we’ll use the following imports:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="op">%</span>matplotlib inline</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> sympy <span class="im">as</span> sym</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> sympy <span class="im">import</span> init_printing</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> matplotlib <span class="im">import</span> cm</span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> mpl_toolkits.mplot3d <span class="im">import</span> Axes3D</span></code></pre></div>
</section>
<section id="key-formulas" class="level2" data-number="1.3">
<h2 data-number="1.3"><span class="header-section-number">1.3</span> Key Formulas</h2>
<p>To start, let $ c $ be a real number that lies strictly between
$ -1 $ and $ 1 $.</p>
<ul>
<li>We often write this as $ c (-1,1) $.<br />
</li>
<li>Here $ (-1,1) $ denotes the collection of all real numbers that
are strictly less than $ 1 $ and strictly greater than $ -1 $.<br />
</li>
<li>The symbol $ $ means <em>in</em> or <em>belongs to the set after the symbol</em>.</li>
</ul>
<p>We want to evaluate geometric series of two types – infinite and finite.</p>
<section id="infinite-geometric-series" class="level3" data-number="1.3.1">
<h3 data-number="1.3.1"><span class="header-section-number">1.3.1</span> Infinite Geometric Series</h3>
<p>The first type of geometric that interests us is the infinite series</p>
<p><span class="math display">\[
1 + c + c^2 + c^3 + \cdots
\]</span></p>
<p>Where $ $ means that the series continues without end.</p>
<p>The key formula is</p>
<p><a id="equation-infinite"></a>
<span class="math display">\[
1 + c + c^2 + c^3 + \cdots = \frac{1}{1 -c } \tag{1}
\]</span></p>
<p>To prove key formula <a href="#equation-infinite">(1)</a>, multiply both sides by $ (1-c) $ and verify
that if $ c (-1,1) $, then the outcome is the
equation $ 1 = 1 $.</p>
</section>
<section id="finite-geometric-series" class="level3" data-number="1.3.2">
<h3 data-number="1.3.2"><span class="header-section-number">1.3.2</span> Finite Geometric Series</h3>
<p>The second series that interests us is the finite geomtric series</p>
<p><span class="math display">\[
1 + c + c^2 + c^3 + \cdots + c^T
\]</span></p>
<p>where $ T $ is a positive integer.</p>
<p>The key formula here is</p>
<p><span class="math display">\[
1 + c + c^2 + c^3 + \cdots + c^T  = \frac{1 - c^{T+1}}{1-c}
\]</span></p>
<p><strong>Remark:</strong> The above formula works for any value of the scalar
$ c $. We don’t have to restrict $ c $ to be in the
set $ (-1,1) $.</p>
<p>We now move on to describe some famous economic applications of
geometric series.</p>
</section>
</section>
<section id="example-the-money-multiplier-in-fractional-reserve-banking" class="level2" data-number="1.4">
<h2 data-number="1.4"><span class="header-section-number">1.4</span> Example: The Money Multiplier in Fractional Reserve Banking</h2>
<p>In a fractional reserve banking system, banks hold only a fraction
$ r (0,1) $ of cash behind each <strong>deposit receipt</strong> that they
issue</p>
<ul>
<li>In recent times
<ul>
<li>cash consists of pieces of paper issued by the government and
called dollars or pounds or $ $<br />
</li>
<li>a <em>deposit</em> is a balance in a checking or savings account that
entitles the owner to ask the bank for immediate payment in cash<br />
</li>
</ul></li>
<li>When the UK and France and the US were on either a gold or silver
standard (before 1914, for example)
<ul>
<li>cash was a gold or silver coin<br />
</li>
<li>a <em>deposit receipt</em> was a <em>bank note</em> that the bank promised to
convert into gold or silver on demand; (sometimes it was also a
checking or savings account balance)</li>
</ul></li>
</ul>
<p>Economists and financiers often define the <strong>supply of money</strong> as an
economy-wide sum of <strong>cash</strong> plus <strong>deposits</strong>.</p>
<p>In a <strong>fractional reserve banking system</strong> (one in which the reserve
ratio $ r $ satisfies $ 0 &lt; r &lt; 1 $), <strong>banks create money</strong> by issuing deposits <em>backed</em> by fractional reserves plus loans that they make to their customers.</p>
<p>A geometric series is a key tool for understanding how banks create
money (i.e., deposits) in a fractional reserve system.</p>
<p>The geometric series formula <a href="#equation-infinite">(1)</a> is at the heart of the classic model of the money creation process – one that leads us to the celebrated
<strong>money multiplier</strong>.</p>
<section id="a-simple-model" class="level3" data-number="1.4.1">
<h3 data-number="1.4.1"><span class="header-section-number">1.4.1</span> A Simple Model</h3>
<p>There is a set of banks named $ i = 0, 1, 2, $.</p>
<p>Bank $ i $’s loans $ L_i $, deposits $ D_i $, and
reserves $ R_i $ must satisfy the balance sheet equation (because
<strong>balance sheets balance</strong>):</p>
<p><a id="equation-balance"></a>
<span class="math display">\[
L_i + R_i = D_i \tag{2}
\]</span></p>
<p>The left side of the above equation is the sum of the bank’s <strong>assets</strong>,
namely, the loans $ L_i $ it has outstanding plus its reserves of
cash $ R_i $.</p>
<p>The right side records bank $ i $’s liabilities,
namely, the deposits $ D_i $ held by its depositors; these are
IOU’s from the bank to its depositors in the form of either checking
accounts or savings accounts (or before 1914, bank notes issued by a
bank stating promises to redeem note for gold or silver on demand).</p>
<p>Each bank $ i $ sets its reserves to satisfy the equation</p>
<p><a id="equation-reserves"></a>
<span class="math display">\[
R_i = r D_i \tag{3}
\]</span></p>
<p>where $ r (0,1) $ is its <strong>reserve-deposit ratio</strong> or <strong>reserve
ratio</strong> for short</p>
<ul>
<li>the reserve ratio is either set by a government or chosen by banks
for precautionary reasons</li>
</ul>
<p>Next we add a theory stating that bank $ i+1 $’s deposits depend
entirely on loans made by bank $ i $, namely</p>
<p><a id="equation-deposits"></a>
<span class="math display">\[
D_{i+1} = L_i \tag{4}
\]</span></p>
<p>Thus, we can think of the banks as being arranged along a line with
loans from bank $ i $ being immediately deposited in $ i+1 $</p>
<ul>
<li>in this way, the debtors to bank $ i $ become creditors of
bank $ i+1 $</li>
</ul>
<p>Finally, we add an <em>initial condition</em> about an exogenous level of bank
$ 0 $’s deposits</p>
<p><span class="math display">\[
D_0 \ \text{ is given exogenously}
\]</span></p>
<p>We can think of $ D_0 $ as being the amount of cash that a first
depositor put into the first bank in the system, bank number $ i=0 $.</p>
<p>Now we do a little algebra.</p>
<p>Combining equations <a href="#equation-balance">(2)</a> and <a href="#equation-reserves">(3)</a> tells us that</p>
<p><a id="equation-fraction"></a>
<span class="math display">\[
L_i = (1-r) D_i \tag{5}
\]</span></p>
<p>This states that bank $ i $ loans a fraction $ (1-r) $ of its
deposits and keeps a fraction $ r $ as cash reserves.</p>
<p>Combining equation <a href="#equation-fraction">(5)</a> with equation <a href="#equation-deposits">(4)</a> tells us that</p>
<p><span class="math display">\[
D_{i+1} = (1-r) D_i  \ \text{ for } i \geq 0
\]</span></p>
<p>which implies that</p>
<p><a id="equation-geomseries"></a>
<span class="math display">\[
D_i = (1 - r)^i D_0  \ \text{ for } i \geq 0 \tag{6}
\]</span></p>
<p>Equation <a href="#equation-geomseries">(6)</a> expresses $ D_i $ as the $ i $ th term in the
product of $ D_0 $ and the geometric series</p>
<p><span class="math display">\[
1, (1-r), (1-r)^2, \cdots
\]</span></p>
<p>Therefore, the sum of all deposits in our banking system
$ i=0, 1, 2, $ is</p>
<p><a id="equation-sumdeposits"></a>
<span class="math display">\[
\sum_{i=0}^\infty (1-r)^i D_0 =  \frac{D_0}{1 - (1-r)} = \frac{D_0}{r} \tag{7}
\]</span></p>
</section>
<section id="money-multiplier" class="level3" data-number="1.4.2">
<h3 data-number="1.4.2"><span class="header-section-number">1.4.2</span> Money Multiplier</h3>
<p>The <strong>money multiplier</strong> is a number that tells the multiplicative
factor by which an exogenous injection of cash into bank $ 0 $ leads
to an increase in the total deposits in the banking system.</p>
<p>Equation <a href="#equation-sumdeposits">(7)</a> asserts that the <strong>money multiplier</strong> is
$  $</p>
<ul>
<li>An initial deposit of cash of $ D_0 $ in bank $ 0 $ leads
the banking system to create total deposits of $  $.<br />
</li>
<li>The initial deposit $ D_0 $ is held as reserves, distributed
throughout the banking system according to $ D_0 = _{i=0}^R_i $.</li>
</ul>
</section>
</section>
<section id="example-the-keynesian-multiplier" class="level2" data-number="1.5">
<h2 data-number="1.5"><span class="header-section-number">1.5</span> Example: The Keynesian Multiplier</h2>
<p>The famous economist John Maynard Keynes and his followers created a
simple model intended to determine national income $ y $ in
circumstances in which</p>
<ul>
<li>there are substantial unemployed resources, in particular <strong>excess
supply</strong> of labor and capital<br />
</li>
<li>prices and interest rates fail to adjust to make aggregate <strong>supply
equal demand</strong> (e.g., prices and interest rates are frozen)<br />
</li>
<li>national income is entirely determined by aggregate demand</li>
</ul>
<section id="static-version" class="level3" data-number="1.5.1">
<h3 data-number="1.5.1"><span class="header-section-number">1.5.1</span> Static Version</h3>
<p>An elementary Keynesian model of national income determination consists
of three equations that describe aggegate demand for $ y $ and its
components.</p>
<p>The first equation is a national income identity asserting that
consumption $ c $ plus investment $ i $ equals national income
$ y $:</p>
<p><span class="math display">\[
c+ i = y
\]</span></p>
<p>The second equation is a Keynesian consumption function asserting that
people consume a fraction $ b (0,1) $ of their income:</p>
<p><span class="math display">\[
c = b y
\]</span></p>
<p>The fraction $ b (0,1) $ is called the <strong>marginal propensity to
consume</strong>.</p>
<p>The fraction $ 1-b (0,1) $ is called the <strong>marginal propensity
to save</strong>.</p>
<p>The third equation simply states that investment is exogenous at level
$ i $.</p>
<ul>
<li><em>exogenous</em> means <em>determined outside this model</em>.</li>
</ul>
<p>Substituting the second equation into the first gives $ (1-b) y = i $.</p>
<p>Solving this equation for $ y $ gives</p>
<p><span class="math display">\[
y = \frac{1}{1-b} i
\]</span></p>
<p>The quantity $  $ is called the <strong>investment
multiplier</strong> or simply the <strong>multiplier</strong>.</p>
<p>Applying the formula for the sum of an infinite geometric series, we can
write the above equation as</p>
<p><span class="math display">\[
y = i \sum_{t=0}^\infty b^t
\]</span></p>
<p>where $ t $ is a nonnegative integer.</p>
<p>So we arrive at the following equivalent expressions for the multiplier:</p>
<p><span class="math display">\[
\frac{1}{1-b} =   \sum_{t=0}^\infty b^t
\]</span></p>
<p>The expression $ _{t=0}<sup>b</sup>t $ motivates an interpretation
of the multiplier as the outcome of a dynamic process that we describe
next.</p>
</section>
<section id="dynamic-version" class="level3" data-number="1.5.2">
<h3 data-number="1.5.2"><span class="header-section-number">1.5.2</span> Dynamic Version</h3>
<p>We arrive at a dynamic version by interpreting the nonnegative integer
$ t $ as indexing time and changing our specification of the
consumption function to take time into account</p>
<ul>
<li>we add a one-period lag in how income affects consumption</li>
</ul>
<p>We let $ c_t $ be consumption at time $ t $ and $ i_t $ be
investment at time $ t $.</p>
<p>We modify our consumption function to assume the form</p>
<p><span class="math display">\[
c_t = b y_{t-1}
\]</span></p>
<p>so that $ b $ is the marginal propensity to consume (now) out of
last period’s income.</p>
<p>We begin wtih an initial condition stating that</p>
<p><span class="math display">\[
y_{-1} = 0
\]</span></p>
<p>We also assume that</p>
<p><span class="math display">\[
i_t = i \ \ \textrm {for all }  t \geq 0
\]</span></p>
<p>so that investment is constant over time.</p>
<p>It follows that</p>
<p><span class="math display">\[
y_0 = i + c_0 = i + b y_{-1} =  i
\]</span></p>
<p>and</p>
<p><span class="math display">\[
y_1 = c_1 + i = b y_0 + i = (1 + b) i
\]</span></p>
<p>and</p>
<p><span class="math display">\[
y_2 = c_2 + i = b y_1 + i = (1 + b + b^2) i
\]</span></p>
<p>and more generally</p>
<p><span class="math display">\[
y_t = b y_{t-1} + i = (1+ b + b^2 + \cdots + b^t) i
\]</span></p>
<p>or</p>
<p><span class="math display">\[
y_t = \frac{1-b^{t+1}}{1 -b } i
\]</span></p>
<p>Evidently, as $ t + $,</p>
<p><span class="math display">\[
y_t \rightarrow \frac{1}{1-b} i
\]</span></p>
<p><strong>Remark 1:</strong> The above formula is often applied to assert that an
exogenous increase in investment of $ i $ at time $ 0 $
ignites a dynamic process of increases in national income by successive amounts</p>
<p><span class="math display">\[
\Delta i, (1 + b )\Delta i, (1+b + b^2) \Delta i , \cdots
\]</span></p>
<p>at times $ 0, 1, 2, $.</p>
<p><strong>Remark 2</strong> Let $ g_t $ be an exogenous sequence of government
expenditures.</p>
<p>If we generalize the model so that the national income identity
becomes</p>
<p><span class="math display">\[
c_t + i_t + g_t  = y_t
\]</span></p>
<p>then a version of the preceding argument shows that the <strong>government
expenditures multiplier</strong> is also $  $, so that a
permanent increase in government expenditures ultimately leads to an
increase in national income equal to the multiplier times the increase
in government expenditures.</p>
</section>
</section>
<section id="example-interest-rates-and-present-values" class="level2" data-number="1.6">
<h2 data-number="1.6"><span class="header-section-number">1.6</span> Example: Interest Rates and Present Values</h2>
<p>We can apply our formula for geometric series to study how interest
rates affect values of streams of dollar payments that extend over time.</p>
<p>We work in discrete time and assume that $ t = 0, 1, 2, $
indexes time.</p>
<p>We let $ r (0,1) $ be a one-period <strong>net nominal interest rate</strong></p>
<ul>
<li>if the nominal interest rate is $ 5 $ percent,
then $ r= .05 $</li>
</ul>
<p>A one-period <strong>gross nominal interest rate</strong> $ R $ is defined as</p>
<p><span class="math display">\[
R = 1 + r \in (1, 2)
\]</span></p>
<ul>
<li>if $ r=.05 $, then $ R = 1.05 $</li>
</ul>
<p><strong>Remark:</strong> The gross nominal interest rate $ R $ is an <strong>exchange
rate</strong> or <strong>relative price</strong> of dollars at between times $ t $ and
$ t+1 $. The units of $ R $ are dollars at time $ t+1 $ per
dollar at time $ t $.</p>
<p>When people borrow and lend, they trade dollars now for dollars later or
dollars later for dollars now.</p>
<p>The price at which these exchanges occur is the gross nominal interest
rate.</p>
<ul>
<li>If I sell $ x $ dollars to you today, you pay me $ R x $
dollars tomorrow.<br />
</li>
<li>This means that you borrowed $ x $ dollars for me at a gross
interest rate $ R $ and a net interest rate $ r $.</li>
</ul>
<p>We assume that the net nominal interest rate $ r $ is fixed over
time, so that $ R $ is the gross nominal interest rate at times
$ t=0, 1, 2, $.</p>
<p>Two important geometric sequences are</p>
<p><a id="equation-geom1"></a>
<span class="math display">\[
1, R, R^2, \cdots \tag{8}
\]</span></p>
<p>and</p>
<p><a id="equation-geom2"></a>
<span class="math display">\[
1, R^{-1}, R^{-2}, \cdots \tag{9}
\]</span></p>
<p>Sequence <a href="#equation-geom1">(8)</a> tells us how dollar values of an investment <strong>accumulate</strong>
through time.</p>
<p>Sequence <a href="#equation-geom2">(9)</a> tells us how to <strong>discount</strong> future dollars to get their
values in terms of today’s dollars.</p>
<section id="accumulation" class="level3" data-number="1.6.1">
<h3 data-number="1.6.1"><span class="header-section-number">1.6.1</span> Accumulation</h3>
<p>Geometric sequence <a href="#equation-geom1">(8)</a> tells us how one dollar invested and re-invested
in a project with gross one period nominal rate of return accumulates</p>
<ul>
<li>here we assume that net interest payments are reinvested in the
project<br />
</li>
<li>thus, $ 1 $ dollar invested at time $ 0 $ pays interest
$ r $ dollars after one period, so we have $ r+1 = R $
dollars at time$ 1 $<br />
</li>
<li>at time $ 1 $ we reinvest $ 1+r =R $ dollars and receive interest
of $ r R $ dollars at time $ 2 $ plus the <em>principal</em>
$ R $ dollars, so we receive $ r R + R = (1+r)R = R^2 $
dollars at the end of period $ 2 $<br />
</li>
<li>and so on</li>
</ul>
<p>Evidently, if we invest $ x $ dollars at time $ 0 $ and
reinvest the proceeds, then the sequence</p>
<p><span class="math display">\[
x , xR , x R^2, \cdots
\]</span></p>
<p>tells how our account accumulates at dates $ t=0, 1, 2, $.</p>
</section>
<section id="discounting" class="level3" data-number="1.6.2">
<h3 data-number="1.6.2"><span class="header-section-number">1.6.2</span> Discounting</h3>
<p>Geometric sequence <a href="#equation-geom2">(9)</a> tells us how much future dollars are worth in terms of today’s dollars.</p>
<p>Remember that the units of $ R $ are dollars at $ t+1 $ per
dollar at $ t $.</p>
<p>It follows that</p>
<ul>
<li>the units of $ R^{-1} $ are dollars at $ t $ per dollar at $ t+1 $<br />
</li>
<li>the units of $ R^{-2} $ are dollars at $ t $ per dollar at $ t+2 $<br />
</li>
<li>and so on; the units of $ R^{-j} $ are dollars at $ t $ per
dollar at $ t+j $</li>
</ul>
<p>So if someone has a claim on $ x $ dollars at time $ t+j $, it
is worth $ x R^{-j} $ dollars at time $ t $ (e.g., today).</p>
</section>
<section id="application-to-asset-pricing" class="level3" data-number="1.6.3">
<h3 data-number="1.6.3"><span class="header-section-number">1.6.3</span> Application to Asset Pricing</h3>
<p>A <strong>lease</strong> requires a payments stream of $ x_t $ dollars at
times $ t = 0, 1, 2, $ where</p>
<p><span class="math display">\[
x_t = G^t x_0
\]</span></p>
<p>where $ G = (1+g) $ and $ g (0,1) $.</p>
<p>Thus, lease payments increase at $ g $ percent per period.</p>
<p>For a reason soon to be revealed, we assume that $ G &lt; R $.</p>
<p>The <strong>present value</strong> of the lease is</p>
<p><span class="math display">\[
\begin{aligned} p_0  &amp; = x_0 + x_1/R + x_2/(R^2) + \ddots \\
                 &amp; = x_0 (1 + G R^{-1} + G^2 R^{-2} + \cdots ) \\
                 &amp; = x_0 \frac{1}{1 - G R^{-1}} \end{aligned}
\]</span></p>
<p>where the last line uses the formula for an infinite geometric series.</p>
<p>Recall that $ R = 1+r $ and $ G = 1+g $ and that $ R &gt; G $
and $ r &gt; g $ and that $ r $ and $ g $ are typically small
numbers, e.g., .05 or .03.</p>
<p>Use the Taylor series of $  $ about $ r=0 $,
namely,</p>
<p><span class="math display">\[
\frac{1}{1+r} = 1 - r + r^2 - r^3 + \cdots
\]</span></p>
<p>and the fact that $ r $ is small to approximate
$   - r $.</p>
<p>Use this approximation to write $ p_0 $ as</p>
<p><span class="math display">\[
\begin{aligned}
 p_0 &amp;= x_0 \frac{1}{1 - G R^{-1}} \\
 &amp;= x_0 \frac{1}{1 - (1+g) (1-r) } \\
 &amp;= x_0 \frac{1}{1 - (1+g - r - rg)} \\
 &amp; \approx x_0 \frac{1}{r -g }
\end{aligned}
\]</span></p>
<p>where the last step uses the approximation $ r g  $.</p>
<p>The approximation</p>
<p><span class="math display">\[
p_0 = \frac{x_0 }{r -g }
\]</span></p>
<p>is known as the <strong>Gordon formula</strong> for the present value or current
price of an infinite payment stream $ x_0 G^t $ when the nominal
one-period interest rate is $ r $ and when $ r &gt; g $.</p>
<p>We can also extend the asset pricing formula so that it applies to finite leases.</p>
<p>Let the payment stream on the lease now be $ x_t $ for $ t= 1,2, ,T $, where again</p>
<p><span class="math display">\[
x_t = G^t x_0
\]</span></p>
<p>The present value of this lease is:</p>
<p><span class="math display">\[
\begin{aligned} \begin{split}p_0&amp;=x_0 + x_1/R  + \dots +x_T/R^T \\ &amp;= x_0(1+GR^{-1}+\dots +G^{T}R^{-T}) \\ &amp;= \frac{x_0(1-G^{T+1}R^{-(T+1)})}{1-GR^{-1}}  \end{split}\end{aligned}
\]</span></p>
<p>Applying the Taylor series to $ R^{-(T+1)} $ about $ r=0 $ we get:</p>
<p><span class="math display">\[
\frac{1}{(1+r)^{T+1}}= 1-r(T+1)+\frac{1}{2}r^2(T+1)(T+2)+\dots \approx 1-r(T+1)
\]</span></p>
<p>Similarly, applying the Taylor series to $ G^{T+1} $ about $ g=0 $:</p>
<p><span class="math display">\[
(1+g)^{T+1} = 1+(T+1)g(1+g)^T+(T+1)Tg^2(1+g)^{T-1}+\dots \approx 1+ (T+1)g
\]</span></p>
<p>Thus, we get the following approximation:</p>
<p><span class="math display">\[
p_0 =\frac{x_0(1-(1+(T+1)g)(1-r(T+1)))}{1-(1-r)(1+g) }
\]</span></p>
<p>Expanding:</p>
<p><span class="math display">\[
\begin{aligned} p_0 &amp;=\frac{x_0(1-1+(T+1)^2 rg -r(T+1)+g(T+1))}{1-1+r-g+rg}  \\&amp;=\frac{x_0(T+1)((T+1)rg+r-g)}{r-g+rg} \\ &amp;\approx \frac{x_0(T+1)(r-g)}{r-g}+\frac{x_0rg(T+1)}{r-g}\\ &amp;= x_0(T+1) + \frac{x_0rg(T+1)}{r-g}  \end{aligned}
\]</span></p>
<p>We could have also approximated by removing the second term
$ rgx_0(T+1) $ when $ T $ is relatively small compared to
$ 1/(rg) $ to get $ x_0(T+1) $ as in the finite stream
approximation.</p>
<p>We will plot the true finite stream present-value and the two
approximations, under different values of $ T $, and $ g $ and $ r $ in Python.</p>
<p>First we plot the true finite stream present-value after computing it
below</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="co"># True present value of a finite lease</span></span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> finite_lease_pv_true(T, g, r, x_0):</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    G <span class="op">=</span> (<span class="dv">1</span> <span class="op">+</span> g)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    R <span class="op">=</span> (<span class="dv">1</span> <span class="op">+</span> r)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (x_0 <span class="op">*</span> (<span class="dv">1</span> <span class="op">-</span> G<span class="op">**</span>(T <span class="op">+</span> <span class="dv">1</span>) <span class="op">*</span> R<span class="op">**</span>(<span class="op">-</span>T <span class="op">-</span> <span class="dv">1</span>))) <span class="op">/</span> (<span class="dv">1</span> <span class="op">-</span> G <span class="op">*</span> R<span class="op">**</span>(<span class="op">-</span><span class="dv">1</span>))</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a><span class="co"># First approximation for our finite lease</span></span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> finite_lease_pv_approx_1(T, g, r, x_0):</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    p <span class="op">=</span> x_0 <span class="op">*</span> (T <span class="op">+</span> <span class="dv">1</span>) <span class="op">+</span> x_0 <span class="op">*</span> r <span class="op">*</span> g <span class="op">*</span> (T <span class="op">+</span> <span class="dv">1</span>) <span class="op">/</span> (r <span class="op">-</span> g)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> p</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a><span class="co"># Second approximation for our finite lease</span></span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> finite_lease_pv_approx_2(T, g, r, x_0):</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> (x_0 <span class="op">*</span> (T <span class="op">+</span> <span class="dv">1</span>))</span>
<span id="cb2-15"><a href="#cb2-15" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb2-16"><a href="#cb2-16" aria-hidden="true" tabindex="-1"></a><span class="co"># Infinite lease</span></span>
<span id="cb2-17"><a href="#cb2-17" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> infinite_lease(g, r, x_0):</span>
<span id="cb2-18"><a href="#cb2-18" aria-hidden="true" tabindex="-1"></a>    G <span class="op">=</span> (<span class="dv">1</span> <span class="op">+</span> g)</span>
<span id="cb2-19"><a href="#cb2-19" aria-hidden="true" tabindex="-1"></a>    R <span class="op">=</span> (<span class="dv">1</span> <span class="op">+</span> r)</span>
<span id="cb2-20"><a href="#cb2-20" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> x_0 <span class="op">/</span> (<span class="dv">1</span> <span class="op">-</span> G <span class="op">*</span> R<span class="op">**</span>(<span class="op">-</span><span class="dv">1</span>))</span></code></pre></div>
<p>Now that we have defined our functions, we can plot some outcomes.</p>
<p>First we study the quality of our approximations</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> plot_function(axes, x_vals, func, args):</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>    axes.plot(x_vals, func(<span class="op">*</span>args), label<span class="op">=</span>func.<span class="va">__name__</span>)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a>T_max <span class="op">=</span> <span class="dv">50</span></span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> np.arange(<span class="dv">0</span>, T_max<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> <span class="fl">0.02</span></span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> <span class="fl">0.03</span></span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a>x_0 <span class="op">=</span> <span class="dv">1</span></span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a>our_args <span class="op">=</span> (T, g, r, x_0)</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a>funcs <span class="op">=</span> [finite_lease_pv_true,</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a>        finite_lease_pv_approx_1,</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a>        finite_lease_pv_approx_2]</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a>        <span class="co">## the three functions we want to compare</span></span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Finite Lease Present Value $T$ Periods Ahead'</span>)</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> f <span class="kw">in</span> funcs:</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a>    plot_function(ax, T, f, our_args)</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a>ax.legend()</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'$T$ Periods Ahead'</span>)</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Present Value, $p_0$'</span>)</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<figure>
<img src="output_20_0.png" alt="png" /><figcaption aria-hidden="true">png</figcaption>
</figure>
<p>Evidently our approximations perform well for small values of $ T $.</p>
<p>However, holding $ g $ and r fixed, our approximations deteriorate as $ T $ increases.</p>
<p>Next we compare the infinite and finite duration lease present values
over different lease lengths $ T $.</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Convergence of infinite and finite</span></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>T_max <span class="op">=</span> <span class="dv">1000</span></span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> np.arange(<span class="dv">0</span>, T_max<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Infinite and Finite Lease Present Value $T$ Periods Ahead'</span>)</span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>f_1 <span class="op">=</span> finite_lease_pv_true(T, g, r, x_0)</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a>f_2 <span class="op">=</span> np.ones(T_max<span class="op">+</span><span class="dv">1</span>)<span class="op">*</span>infinite_lease(g, r, x_0)</span>
<span id="cb4-8"><a href="#cb4-8" aria-hidden="true" tabindex="-1"></a>ax.plot(T, f_1, label<span class="op">=</span><span class="st">'T-period lease PV'</span>)</span>
<span id="cb4-9"><a href="#cb4-9" aria-hidden="true" tabindex="-1"></a>ax.plot(T, f_2, <span class="st">'--'</span>, label<span class="op">=</span><span class="st">'Infinite lease PV'</span>)</span>
<span id="cb4-10"><a href="#cb4-10" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'$T$ Periods Ahead'</span>)</span>
<span id="cb4-11"><a href="#cb4-11" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Present Value, $p_0$'</span>)</span>
<span id="cb4-12"><a href="#cb4-12" aria-hidden="true" tabindex="-1"></a>ax.legend()</span>
<span id="cb4-13"><a href="#cb4-13" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p>The graph above shows how as duration $ T +$,
the value of a lease of duration $ T $ approaches the value of a
perpetual lease.</p>
<p>Now we consider two different views of what happens as $ r $ and
$ g $ covary</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="co"># First view</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a><span class="co"># Changing r and g</span></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Value of lease of length $T$'</span>)</span>
<span id="cb5-5"><a href="#cb5-5" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'Present Value, $p_0$'</span>)</span>
<span id="cb5-6"><a href="#cb5-6" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'$T$ periods ahead'</span>)</span>
<span id="cb5-7"><a href="#cb5-7" aria-hidden="true" tabindex="-1"></a>T_max <span class="op">=</span> <span class="dv">10</span></span>
<span id="cb5-8"><a href="#cb5-8" aria-hidden="true" tabindex="-1"></a>T<span class="op">=</span>np.arange(<span class="dv">0</span>, T_max<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb5-9"><a href="#cb5-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-10"><a href="#cb5-10" aria-hidden="true" tabindex="-1"></a>rs, gs <span class="op">=</span> (<span class="fl">0.9</span>, <span class="fl">0.5</span>, <span class="fl">0.4001</span>, <span class="fl">0.4</span>), (<span class="fl">0.4</span>, <span class="fl">0.4</span>, <span class="fl">0.4</span>, <span class="fl">0.5</span>),</span>
<span id="cb5-11"><a href="#cb5-11" aria-hidden="true" tabindex="-1"></a>comparisons <span class="op">=</span> (<span class="st">'$\gg$'</span>, <span class="st">'$&gt;$'</span>, <span class="vs">r'$\approx$'</span>, <span class="st">'$&lt;$'</span>)</span>
<span id="cb5-12"><a href="#cb5-12" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> r, g, comp <span class="kw">in</span> <span class="bu">zip</span>(rs, gs, comparisons):</span>
<span id="cb5-13"><a href="#cb5-13" aria-hidden="true" tabindex="-1"></a>    ax.plot(finite_lease_pv_true(T, g, r, x_0), label<span class="op">=</span><span class="ss">f'r(=</span><span class="sc">{r}</span><span class="ss">) </span><span class="sc">{</span>comp<span class="sc">}</span><span class="ss"> g(=</span><span class="sc">{g}</span><span class="ss">)'</span>)</span>
<span id="cb5-14"><a href="#cb5-14" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-15"><a href="#cb5-15" aria-hidden="true" tabindex="-1"></a>ax.legend()</span>
<span id="cb5-16"><a href="#cb5-16" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p>This graph gives a big hint for why the condition $ r &gt; g $ is
necessary if a lease of length $ T = +$ is to have finite
value.</p>
<p>For fans of 3-d graphs the same point comes through in the following
graph.</p>
<p>If you aren’t enamored of 3-d graphs, feel free to skip the next
visualization!</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Second view</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>fig <span class="op">=</span> plt.figure()</span>
<span id="cb6-3"><a href="#cb6-3" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> <span class="dv">3</span></span>
<span id="cb6-4"><a href="#cb6-4" aria-hidden="true" tabindex="-1"></a>ax <span class="op">=</span> fig.gca(projection<span class="op">=</span><span class="st">'3d'</span>)</span>
<span id="cb6-5"><a href="#cb6-5" aria-hidden="true" tabindex="-1"></a>r <span class="op">=</span> np.arange(<span class="fl">0.01</span>, <span class="fl">0.99</span>, <span class="fl">0.005</span>)</span>
<span id="cb6-6"><a href="#cb6-6" aria-hidden="true" tabindex="-1"></a>g <span class="op">=</span> np.arange(<span class="fl">0.011</span>, <span class="fl">0.991</span>, <span class="fl">0.005</span>)</span>
<span id="cb6-7"><a href="#cb6-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-8"><a href="#cb6-8" aria-hidden="true" tabindex="-1"></a>rr, gg <span class="op">=</span> np.meshgrid(r, g)</span>
<span id="cb6-9"><a href="#cb6-9" aria-hidden="true" tabindex="-1"></a>z <span class="op">=</span> finite_lease_pv_true(T, gg, rr, x_0)</span>
<span id="cb6-10"><a href="#cb6-10" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb6-11"><a href="#cb6-11" aria-hidden="true" tabindex="-1"></a><span class="co"># Removes points where undefined</span></span>
<span id="cb6-12"><a href="#cb6-12" aria-hidden="true" tabindex="-1"></a>same <span class="op">=</span> (rr <span class="op">==</span> gg)</span>
<span id="cb6-13"><a href="#cb6-13" aria-hidden="true" tabindex="-1"></a>z[same] <span class="op">=</span> np.nan</span>
<span id="cb6-14"><a href="#cb6-14" aria-hidden="true" tabindex="-1"></a>surf <span class="op">=</span> ax.plot_surface(rr, gg, z, cmap<span class="op">=</span>cm.coolwarm,</span>
<span id="cb6-15"><a href="#cb6-15" aria-hidden="true" tabindex="-1"></a>    antialiased<span class="op">=</span><span class="va">True</span>, clim<span class="op">=</span>(<span class="dv">0</span>, <span class="dv">15</span>))</span>
<span id="cb6-16"><a href="#cb6-16" aria-hidden="true" tabindex="-1"></a>fig.colorbar(surf, shrink<span class="op">=</span><span class="fl">0.5</span>, aspect<span class="op">=</span><span class="dv">5</span>)</span>
<span id="cb6-17"><a href="#cb6-17" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'$r$'</span>)</span>
<span id="cb6-18"><a href="#cb6-18" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'$g$'</span>)</span>
<span id="cb6-19"><a href="#cb6-19" aria-hidden="true" tabindex="-1"></a>ax.set_zlabel(<span class="st">'Present Value, $p_0$'</span>)</span>
<span id="cb6-20"><a href="#cb6-20" aria-hidden="true" tabindex="-1"></a>ax.view_init(<span class="dv">20</span>, <span class="dv">10</span>)</span>
<span id="cb6-21"><a href="#cb6-21" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Three Period Lease PV with Varying $g$ and $r$'</span>)</span>
<span id="cb6-22"><a href="#cb6-22" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p>We can use a little calculus to study how the present value $ p_0 $
of a lease varies with $ r $ and $ g $.</p>
<p>We will use a library called <a href="https://www.sympy.org/">SymPy</a>.</p>
<p>SymPy enables us to do symbolic math calculations including
computing derivatives of algebraic equations.</p>
<p>We will illustrate how it works by creating a symbolic expression that
represents our present value formula for an infinite lease.</p>
<p>After that, we’ll use SymPy to compute derivatives</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Creates algebraic symbols that can be used in an algebraic expression</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>g, r, x0 <span class="op">=</span> sym.symbols(<span class="st">'g, r, x0'</span>)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>G <span class="op">=</span> (<span class="dv">1</span> <span class="op">+</span> g)</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>R <span class="op">=</span> (<span class="dv">1</span> <span class="op">+</span> r)</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>p0 <span class="op">=</span> x0 <span class="op">/</span> (<span class="dv">1</span> <span class="op">-</span> G <span class="op">*</span> R<span class="op">**</span>(<span class="op">-</span><span class="dv">1</span>))</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>init_printing()</span>
<span id="cb7-7"><a href="#cb7-7" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'Our formula is:'</span>)</span>
<span id="cb7-8"><a href="#cb7-8" aria-hidden="true" tabindex="-1"></a>p0</span></code></pre></div>
<div class="sourceCode" id="cb8"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'dp0 / dg is:'</span>)</span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>dp_dg <span class="op">=</span> sym.diff(p0, g)</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>dp_dg</span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(<span class="st">'dp0 / dr is:'</span>)</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a>dp_dr <span class="op">=</span> sym.diff(p0, r)</span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a>dp_dr</span></code></pre></div>
<p>We can see that for $ &lt;0 $ as long as
$ r&gt;g $, $ r&gt;0 $ and $ g&gt;0 $ and $ x_0 $ is positive,
so $  $ will always be negative.</p>
<p>Similarly, $ &gt;0 $ as long as $ r&gt;g $, $ r&gt;0 $ and $ g&gt;0 $ and $ x_0 $ is positive, so $  $
will always be positive.</p>
</section>
</section>
<section id="back-to-the-keynesian-multiplier" class="level2" data-number="1.7">
<h2 data-number="1.7"><span class="header-section-number">1.7</span> Back to the Keynesian Multiplier</h2>
<p>We will now go back to the case of the Keynesian multiplier and plot the
time path of $ y_t $, given that consumption is a constant fraction
of national income, and investment is fixed.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Function that calculates a path of y</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> calculate_y(i, b, g, T, y_init):</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> np.zeros(T<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>    y[<span class="dv">0</span>] <span class="op">=</span> i <span class="op">+</span> b <span class="op">*</span> y_init <span class="op">+</span> g</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>    <span class="cf">for</span> t <span class="kw">in</span> <span class="bu">range</span>(<span class="dv">1</span>, T<span class="op">+</span><span class="dv">1</span>):</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>        y[t] <span class="op">=</span> b <span class="op">*</span> y[t<span class="op">-</span><span class="dv">1</span>] <span class="op">+</span> i <span class="op">+</span> g</span>
<span id="cb10-7"><a href="#cb10-7" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> y</span>
<span id="cb10-8"><a href="#cb10-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-9"><a href="#cb10-9" aria-hidden="true" tabindex="-1"></a><span class="co"># Initial values</span></span>
<span id="cb10-10"><a href="#cb10-10" aria-hidden="true" tabindex="-1"></a>i_0 <span class="op">=</span> <span class="fl">0.3</span></span>
<span id="cb10-11"><a href="#cb10-11" aria-hidden="true" tabindex="-1"></a>g_0 <span class="op">=</span> <span class="fl">0.3</span></span>
<span id="cb10-12"><a href="#cb10-12" aria-hidden="true" tabindex="-1"></a><span class="co"># 2/3 of income goes towards consumption</span></span>
<span id="cb10-13"><a href="#cb10-13" aria-hidden="true" tabindex="-1"></a>b <span class="op">=</span> <span class="dv">2</span><span class="op">/</span><span class="dv">3</span></span>
<span id="cb10-14"><a href="#cb10-14" aria-hidden="true" tabindex="-1"></a>y_init <span class="op">=</span> <span class="dv">0</span></span>
<span id="cb10-15"><a href="#cb10-15" aria-hidden="true" tabindex="-1"></a>T <span class="op">=</span> <span class="dv">100</span></span>
<span id="cb10-16"><a href="#cb10-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-17"><a href="#cb10-17" aria-hidden="true" tabindex="-1"></a>fig, ax <span class="op">=</span> plt.subplots()</span>
<span id="cb10-18"><a href="#cb10-18" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Path of Aggregate Output Over Time'</span>)</span>
<span id="cb10-19"><a href="#cb10-19" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'$t$'</span>)</span>
<span id="cb10-20"><a href="#cb10-20" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'$y_t$'</span>)</span>
<span id="cb10-21"><a href="#cb10-21" aria-hidden="true" tabindex="-1"></a>ax.plot(np.arange(<span class="dv">0</span>, T<span class="op">+</span><span class="dv">1</span>), calculate_y(i_0, b, g_0, T, y_init))</span>
<span id="cb10-22"><a href="#cb10-22" aria-hidden="true" tabindex="-1"></a><span class="co"># Output predicted by geometric series</span></span>
<span id="cb10-23"><a href="#cb10-23" aria-hidden="true" tabindex="-1"></a>ax.hlines(i_0 <span class="op">/</span> (<span class="dv">1</span> <span class="op">-</span> b) <span class="op">+</span> g_0 <span class="op">/</span> (<span class="dv">1</span> <span class="op">-</span> b), xmin<span class="op">=-</span><span class="dv">1</span>, xmax<span class="op">=</span><span class="dv">101</span>, linestyles<span class="op">=</span><span class="st">'--'</span>)</span>
<span id="cb10-24"><a href="#cb10-24" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p>In this model, income grows over time, until it gradually converges to
the infinite geometric series sum of income.</p>
<p>We now examine what will
happen if we vary the so-called <strong>marginal propensity to consume</strong>,
i.e., the fraction of income that is consumed</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a>bs <span class="op">=</span> (<span class="dv">1</span><span class="op">/</span><span class="dv">3</span>, <span class="dv">2</span><span class="op">/</span><span class="dv">3</span>, <span class="dv">5</span><span class="op">/</span><span class="dv">6</span>, <span class="fl">0.9</span>)</span>
<span id="cb11-2"><a href="#cb11-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb11-3"><a href="#cb11-3" aria-hidden="true" tabindex="-1"></a>fig,ax <span class="op">=</span> plt.subplots()</span>
<span id="cb11-4"><a href="#cb11-4" aria-hidden="true" tabindex="-1"></a>ax.set_title(<span class="st">'Changing Consumption as a Fraction of Income'</span>)</span>
<span id="cb11-5"><a href="#cb11-5" aria-hidden="true" tabindex="-1"></a>ax.set_ylabel(<span class="st">'$y_t$'</span>)</span>
<span id="cb11-6"><a href="#cb11-6" aria-hidden="true" tabindex="-1"></a>ax.set_xlabel(<span class="st">'$t$'</span>)</span>
<span id="cb11-7"><a href="#cb11-7" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.arange(<span class="dv">0</span>, T<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb11-8"><a href="#cb11-8" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> b <span class="kw">in</span> bs:</span>
<span id="cb11-9"><a href="#cb11-9" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> calculate_y(i_0, b, g_0, T, y_init)</span>
<span id="cb11-10"><a href="#cb11-10" aria-hidden="true" tabindex="-1"></a>    ax.plot(x, y, label<span class="op">=</span><span class="vs">r'$b=$'</span><span class="op">+</span><span class="ss">f&quot;</span><span class="sc">{b:.2f}</span><span class="ss">&quot;</span>)</span>
<span id="cb11-11"><a href="#cb11-11" aria-hidden="true" tabindex="-1"></a>ax.legend()</span>
<span id="cb11-12"><a href="#cb11-12" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p>Increasing the marginal propensity to consume $ b $ increases the
path of output over time.</p>
<p>Now we will compare the effects on output of increases in investment and government spending.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>fig, (ax1, ax2) <span class="op">=</span> plt.subplots(<span class="dv">2</span>, <span class="dv">1</span>, figsize<span class="op">=</span>(<span class="dv">6</span>, <span class="dv">10</span>))</span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>fig.subplots_adjust(hspace<span class="op">=</span><span class="fl">0.3</span>)</span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a>x <span class="op">=</span> np.arange(<span class="dv">0</span>, T<span class="op">+</span><span class="dv">1</span>)</span>
<span id="cb12-5"><a href="#cb12-5" aria-hidden="true" tabindex="-1"></a>values <span class="op">=</span> [<span class="fl">0.3</span>, <span class="fl">0.4</span>]</span>
<span id="cb12-6"><a href="#cb12-6" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-7"><a href="#cb12-7" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> i <span class="kw">in</span> values:</span>
<span id="cb12-8"><a href="#cb12-8" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> calculate_y(i, b, g_0, T, y_init)</span>
<span id="cb12-9"><a href="#cb12-9" aria-hidden="true" tabindex="-1"></a>    ax1.plot(x, y, label<span class="op">=</span><span class="ss">f&quot;i=</span><span class="sc">{i}</span><span class="ss">&quot;</span>)</span>
<span id="cb12-10"><a href="#cb12-10" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> g <span class="kw">in</span> values:</span>
<span id="cb12-11"><a href="#cb12-11" aria-hidden="true" tabindex="-1"></a>    y <span class="op">=</span> calculate_y(i_0, b, g, T, y_init)</span>
<span id="cb12-12"><a href="#cb12-12" aria-hidden="true" tabindex="-1"></a>    ax2.plot(x, y, label<span class="op">=</span><span class="ss">f&quot;g=</span><span class="sc">{g}</span><span class="ss">&quot;</span>)</span>
<span id="cb12-13"><a href="#cb12-13" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-14"><a href="#cb12-14" aria-hidden="true" tabindex="-1"></a>axes <span class="op">=</span> ax1, ax2</span>
<span id="cb12-15"><a href="#cb12-15" aria-hidden="true" tabindex="-1"></a>param_labels <span class="op">=</span> <span class="st">&quot;Investment&quot;</span>, <span class="st">&quot;Government Spending&quot;</span></span>
<span id="cb12-16"><a href="#cb12-16" aria-hidden="true" tabindex="-1"></a><span class="cf">for</span> ax, param <span class="kw">in</span> <span class="bu">zip</span>(axes, param_labels):</span>
<span id="cb12-17"><a href="#cb12-17" aria-hidden="true" tabindex="-1"></a>    ax.set_title(<span class="ss">f'An Increase in </span><span class="sc">{</span>param<span class="sc">}</span><span class="ss"> on Output'</span>)</span>
<span id="cb12-18"><a href="#cb12-18" aria-hidden="true" tabindex="-1"></a>    ax.legend(loc <span class="op">=</span><span class="st">&quot;lower right&quot;</span>)</span>
<span id="cb12-19"><a href="#cb12-19" aria-hidden="true" tabindex="-1"></a>    ax.set_ylabel(<span class="st">'$y_t$'</span>)</span>
<span id="cb12-20"><a href="#cb12-20" aria-hidden="true" tabindex="-1"></a>    ax.set_xlabel(<span class="st">'$t$'</span>)</span>
<span id="cb12-21"><a href="#cb12-21" aria-hidden="true" tabindex="-1"></a>plt.show()</span></code></pre></div>
<p>Notice here, whether government spending increases from 0.3 to 0.4 or
investment increases from 0.3 to 0.4, the shifts in the graphs are
identical.</p>
</section>
</section>

        </div>
        <div id="footer">
            <div class="flex-container" style="display:flex; justify-content: space-between;">
                <div>
                    Site proudly generated by
                    <a href="http://jaspervdj.be/hakyll">Hakyll</a>
                </div>
                <div class="pagehitscounter"> 
                    <img src="https://hits.seeyoufarm.com/api/count/incr/badge.svg?url=https%3A%2F%2Fuserjy.github.io&count_bg=%231FDBD9&title_bg=%23555555&icon=&icon_color=%23E7E7E7&title=hits&edge_flat=true" />
                </div>
                <div xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"><a property="dct:title" rel="cc:attributionURL" href="https://lambdaJasonYang.github.io/">Jason's Notes</a> by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="https://lambdaJasonYang.github.io/">Jason Yang</a> is licensed under <a href="http://creativecommons.org/licenses/by-nc-nd/4.0/?ref=chooser-v1" target="_blank" rel="license noopener noreferrer" style="display:inline-block;">CC BY-NC-ND 4.0<img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nc.svg?ref=chooser-v1"><img style="height:22px!important;margin-left:3px;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/nd.svg?ref=chooser-v1"></a></div>
  
            </div>
        </div>
        
    </body>
    <footer>
        <!-- CODE TAB START -->
        <script>
                    //Structure:
                    // Codeblock < Group/Grouplabel/subgrp < datagroupSet < allblocks

            const AllBlocksPre = document.querySelectorAll("[data-group]");
            const AllBlocks = [...AllBlocksPre]; //gets all codeblocks w/ and w/o group label
            const getUniqueSet = (TargetSet,dataAttr) => {
                //gets the set of attributes of an array of codeblocks aka TargetSet
                const temp = TargetSet.map((e) => (e.getAttribute(dataAttr))); 
                const temp2 = temp.filter((a)=>a); //remove nulls
                return [...new Set(temp2)];
            } 
            const datagroupSet = getUniqueSet(AllBlocks,"data-group") //remove nulls

            const getCodeBlocks = (datagroup) => {
                //return list of glabels CodeBlocks associated to a single group 
                return AllBlocks.filter((dataglabelBlock)=>(dataglabelBlock.getAttribute("data-group") === datagroup));
            }

            const showBlocks = (dataglabeltxt,datagroupCodeBlocks) => {
                const selectedglabelGroup = datagroupCodeBlocks.filter((SingleBlock)=>(SingleBlock.getAttribute("data-glabel") === dataglabeltxt))
                const NONselectedglabelGroup = datagroupCodeBlocks.filter((SingleBlock)=>(SingleBlock.getAttribute("data-glabel") !== dataglabeltxt))
                selectedglabelGroup.map((SingleBlock) => (SingleBlock.style.display="block"));
                (NONselectedglabelGroup || []).map((SingleBlock) => (SingleBlock.style.display="none"));
            }
            const mkBtn = (dataglabeltxt,datagroupCodeBlocks,showfunc) => {
                const newbutton = document.createElement("input");
                newbutton.type = "radio";
                // newbutton.textContent = dataglabeltxt;
                newbutton.addEventListener('click', ()=>{
                    // console.log(datagroupCodeBlocks)
                    showfunc(dataglabeltxt,datagroupCodeBlocks);
                });
                return newbutton;
            }
            const showAll = (datagroup) => {
                //make all codeblocks visible
            datagroup.map((e)=>(e.style.display="block"));
            }

            const buildCodeTab = (datagroupCodeBlocks,datagroup) => {
                const leaderCodeBlockDiv = datagroupCodeBlocks[0]; //get the leader codeblock of a group of codeblock
                const setglabelstxt = getUniqueSet(datagroupCodeBlocks,"data-glabel"); 
                setglabelstxt.map((singleglabeltxt)=>{
                    
                    const btn = mkBtn(singleglabeltxt,datagroupCodeBlocks,showBlocks);
                    btn.name = datagroup;
                    btn.id = datagroup+singleglabeltxt;
                    const radiolabelx = document.createElement("label");
                    radiolabelx.setAttribute("for",datagroup+singleglabeltxt);
                    radiolabelx.innerText = singleglabeltxt;
        
                    // leaderCodeBlockDiv.insertAdjacentElement("beforebegin",radiolabelx);
                    // radiolabelx.appendChild(btn);
                    const radioclass = document.createElement("div");
                    radioclass.className = "radioclass";
                    radioclass.appendChild(btn);
                    radioclass.appendChild(radiolabelx)
                    leaderCodeBlockDiv.insertAdjacentElement("beforebegin",radioclass);
                    // leaderCodeBlockDiv.prepend(btn);
                    
                    
                })
             
                // leaderCodeBlockDiv.append(btnlist);
                
                const btnShowAll = document.createElement("input");
                btnShowAll.type = "radio";
                btnShowAll.addEventListener('click',(e)=>(showAll(datagroupCodeBlocks)));

                btnShowAll.name = datagroup;
                btnShowAll.id = datagroup+"All";
                const radiolabel = document.createElement("label");
                radiolabel.setAttribute("for",datagroup+"All");
                radiolabel.innerText = "All";

                const radioclass = document.createElement("div");
                radioclass.className = "radioclass";
                radioclass.appendChild(btnShowAll);
                radioclass.appendChild(radiolabel)
                leaderCodeBlockDiv.insertAdjacentElement('beforebegin',radioclass);
                //make showAllbutton END
            }

            //below code is performing actual behavior, the above code are just functions
            datagroupSet.map((datagroup) => {
                
                const groupOfCodeblocks = getCodeBlocks(datagroup);
                buildCodeTab(groupOfCodeblocks,datagroup);
                const firsttab = groupOfCodeblocks[0];
                showBlocks(firsttab.getAttribute("data-glabel"),groupOfCodeblocks);
       
            })
        </script>
        <!-- CODE TAB END ---->

        <!-- MATH JAX START -------------------------------------- -->
        <script id="MathJax-script" async src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/3.2.0/es5/tex-chtml.min.js">
        </script>
        <!-- MATH JAX END ----------------------------------------- -->
        <!-- MERMAID START -------------------------------------- -->
        <script type="module"> 
            import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid/+esm'
        </script>
        <!-- <script src="https://cdn.jsdelivr.net/npm/mermaid/dist/mermaid.min.js" async></script> -->
        <!-- MERMAID END -------------------------------------- -->
        <!-- RAILROAD START -------------------------------------- -->
        <script type="module">
            import rr,* as rrClass from "/lib/railroad/railroad.js";
            Object.assign(window,rr)
            window.rrOptions = rrClass.Options;
            document.addEventListener('DOMContentLoaded',()=>{ReplaceDivWithSvg()},false)
            const ReplaceDivWithSvg = () =>  {
                for (const railroadelem of document.getElementsByClassName("rroad") ){
                railroadelem.innerHTML = eval(railroadelem.innerText.trim()+".toString()")
                }
            }
        </script>
        

        <link rel="stylesheet" href="../lib/railroad/railroad-diagrams.css">
        <!-- RAILROAD END ----------------------------------------- -->
    </footer>
</html>
